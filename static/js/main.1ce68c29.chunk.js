(this.webpackJsonpquaranteam=this.webpackJsonpquaranteam||[]).push([[0],{122:function(e,t,n){},128:function(e,t,n){},129:function(e,t,n){},150:function(e,t,n){},151:function(e,t,n){},152:function(e,t,n){},187:function(e,t,n){e.exports=n(331)},201:function(e,t,n){},206:function(e,t,n){},217:function(e,t,n){},218:function(e,t,n){},300:function(e,t,n){},303:function(e,t,n){},307:function(e,t,n){},308:function(e,t,n){},325:function(e,t,n){},326:function(e,t,n){},327:function(e,t,n){},331:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),o=n(21),c=n.n(o),l=n(46),i=n(31),s=(n(192),n(2)),u=n.n(s),d=n(7),p=n(11),m=n(12),h=n(13),f=n(14),v=n(37),b=n(133),g=n.n(b),E=n(340),j=n(173),y=n(95),w=n(10),k=n(349),C=n(168),O=n(42),x=n(169),I=n(347),P=n(23),S=n(18),N=n(16),T=n(17),M=n.n(T),$=n(119),L=n(134),B=n.n(L);var F={getQueryParams:function(){var e=window.location.hash;return new URLSearchParams(e.split("?")[1])},updateQueryParams:function(e){var t=window.location.href.split("?")[0],n=""===e.toString();window.history.replaceState({},"",t+(n?"":"?")+e.toString())},navigate:function(e){window.history.pushState({},"",e),window.location.reload()}},q=n(348),A=n(58),U=n(339),D=n(350),R=new $.a,V=new q.a({uri:"https://quaranteamtech.herokuapp.com/graphql"}),H=new A.a((function(e,t){var n=R.get("jwt");return n&&e.setContext({headers:{Authorization:"Bearer ".concat(n)}}),t(e)})),z=new U.a({link:H.concat(V),cache:new D.a,defaultOptions:{query:{fetchPolicy:"no-cache"}}});function _(){var e=Object(N.a)(["\n  mutation ($email: String!, $password:String!) {\n    login(\n      input: {\n        email: $email\n        password: $password\n      }\n    ) { jwtToken }\n  }"]);return _=function(){return e},e}function J(){var e=Object(N.a)(["\n  mutation ($username: String!, $email: String!, $password:String!) {\n    register(\n      input: {\n        username: $username\n        email: $email\n        password: $password\n      }\n    ) { jwtToken }\n  }"]);return J=function(){return e},e}var G=new $.a,Q=M()(J()),W=M()(_());function Y(){return(Y=Object(d.a)(u.a.mark((function e(t,n,a){var r,o;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,z.mutate({mutation:Q,variables:{email:t,username:n,password:a}});case 3:r=e.sent,o=r.data.register.jwtToken,G.set("jwt",o,{path:"/"}),F.navigate("/#/profile/".concat(n)),e.next=12;break;case 9:throw e.prev=9,e.t0=e.catch(0),{message:"An account already exists with this email or username."};case 12:case"end":return e.stop()}}),e,null,[[0,9]])})))).apply(this,arguments)}function K(){return(K=Object(d.a)(u.a.mark((function e(t,n){var a,r;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,z.mutate({mutation:W,variables:{email:t,password:n}});case 3:if(a=e.sent,!(r=a.data.login.jwtToken)){e.next=10;break}return G.set("jwt",r,{path:"/"}),e.abrupt("return",{jwt:r});case 10:throw{message:"Invalid username or password."};case 11:e.next=16;break;case 13:throw e.prev=13,e.t0=e.catch(0),e.t0;case 16:case"end":return e.stop()}}),e,null,[[0,13]])})))).apply(this,arguments)}function X(){var e=G.get("jwt");if(!e)return null;try{return B()(e)}catch(t){return null}}var Z={register:function(e,t,n){return Y.apply(this,arguments)},login:function(e,t){return K.apply(this,arguments)},handleGitHubLogin:function(){var e=F.getQueryParams(),t=e.get("jwt");e.delete("jwt"),F.updateQueryParams(e),t&&(G.set("jwt",t,{path:"/"}),F.navigate("/#/profile/".concat(X().username)))},isLoggedIn:function(){var e=G.get("jwt");if(!e)return!1;try{return B()(e),!0}catch(t){return!1}},logOut:function(){G.remove("jwt",{path:"/"})},getToken:X,GITHUB_AUTH_URL:"https://quaranteamtech.herokuapp.com/auth/github"},ee="profile",te="create_project",ne=(n(201),function(e){Object(f.a)(n,e);var t=Object(h.a)(n);function n(e){var a;return Object(p.a)(this,n),(a=t.call(this,e)).logOut=a.logOut.bind(Object(w.a)(a)),a}return Object(m.a)(n,[{key:"logOut",value:function(){Z.logOut(),window.history.pushState({},"","/"),window.location.reload()}},{key:"render",value:function(){var e=this.props.showLoginModal,t=Z.isLoggedIn()?Z.getToken().username:null;return r.a.createElement("header",{className:"header"},r.a.createElement("div",null,r.a.createElement(k.a,{variant:"dark"},r.a.createElement(C.a,{href:"/"},r.a.createElement("span",null,"\ud83e\uddec")," Quaranteam"),r.a.createElement(O.a,{className:"ml-auto"},r.a.createElement(x.a,{className:"header-projects-nav",href:"/#/projects"},"Projects"),r.a.createElement(x.a,{href:"/#/people"},"People"),Z.isLoggedIn()?r.a.createElement(I.a,{drop:"left"},r.a.createElement(I.a.Toggle,{variant:"outline-light",size:"sm",className:"user-dropdown"},r.a.createElement(S.m,null)),r.a.createElement(I.a.Menu,null,r.a.createElement(I.a.Item,{href:"/#/profile/".concat(t)},"My Profile"),r.a.createElement(I.a.Item,{href:"/#/profile/".concat(t,"?tab=projects")},"My Projects"),r.a.createElement(I.a.Item,{href:"/#/profile/".concat(t,"?tab=inbox")},"My Inbox"),r.a.createElement(I.a.Item,{href:"/#/projects/create"},"Create Project"),r.a.createElement(I.a.Item,{onClick:this.logOut},"Logout"))):r.a.createElement(P.a,{className:"login-btn",variant:"light",onClick:function(){return e(ee)}},"Login")))))}}]),n}(r.a.Component)),ae=me(Object(i.f)(ne)),re=n(76),oe=n(77),ce=n(41),le=n(19),ie=n(170),se=n.n(ie),ue=(n(122),function(e){Object(f.a)(n,e);var t=Object(h.a)(n);function n(e){var a;return Object(p.a)(this,n),(a=t.call(this,e)).state={email:"",password:"",isLoading:!1,errorMessage:null},a.onChange=a.onChange.bind(Object(w.a)(a)),a.login=a.login.bind(Object(w.a)(a)),a}return Object(m.a)(n,[{key:"onChange",value:function(e,t){var n=t.target.value;this.setState(Object(re.a)({},e,n))}},{key:"login",value:function(){var e=Object(d.a)(u.a.mark((function e(){var t,n,a,r;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.setState({isLoading:!0}),t=this.props.onLogin,n=this.state,a=n.email,r=n.password,e.prev=3,e.next=6,Z.login(a,r);case 6:t(),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(3),this.setState({errorMessage:e.t0.message});case 12:this.setState({isLoading:!1});case 13:case"end":return e.stop()}}),e,this,[[3,9]])})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this,t=this.props,n=t.show,a=t.onClose,o=this.state,c=o.errorMessage,l=o.isLoading;return r.a.createElement(le.a,{show:n,className:"login",onHide:a,size:"md",centered:!0},r.a.createElement(se.a,{handleFocusableElements:!0,handleKeys:["enter"],onKeyEvent:this.login}),r.a.createElement(y.a,null,r.a.createElement(le.a.Header,{closeButton:!0},r.a.createElement(le.a.Title,null,r.a.createElement("span",null,"\ud83d\udc69\u200d\ud83d\udd2c")," Login")),r.a.createElement(le.a.Body,{className:"show-grid"},c&&r.a.createElement(oe.a,{variant:"danger"},c),r.a.createElement(ce.a,null,r.a.createElement(ce.a.Group,null,r.a.createElement(ce.a.Control,{type:"email",placeholder:"Email",onChange:function(t){return e.onChange("email",t)}})),r.a.createElement(ce.a.Group,null,r.a.createElement(ce.a.Control,{type:"password",placeholder:"Password",onChange:function(t){return e.onChange("password",t)}})))),r.a.createElement(le.a.Footer,null,r.a.createElement(P.a,{variant:"primary",onClick:this.login,disabled:l,block:!0},l?"Logging in...":"Login"),r.a.createElement("h5",null,"Or..."),r.a.createElement(P.a,{href:Z.GITHUB_AUTH_URL,variant:"success",block:!0},r.a.createElement("span",null,r.a.createElement(S.e,{className:"icon",size:"1.8em"})," Login with GitHub"))),r.a.createElement("hr",null),r.a.createElement("h6",null,"Don't have an account?",r.a.createElement("a",{className:"action-link",href:"/"}," Register!")),r.a.createElement("h6",null,"Forgot your password?",r.a.createElement("a",{className:"action-link",href:"/#/forgot_password"}," Click here!"))),r.a.createElement("br",null))}}]),n}(r.a.Component)),de=(n(206),r.a.createContext()),pe=function(e){Object(f.a)(n,e);var t=Object(h.a)(n);function n(e){var a;return Object(p.a)(this,n),(a=t.call(this,e)).state={isAlertVisible:!1,isLoginModalVisible:!1,loginIntent:null,alertType:null,alertText:null},a.followLoginIntent=a.followLoginIntent.bind(Object(w.a)(a)),a.showLoginModal=a.showLoginModal.bind(Object(w.a)(a)),a.showAlert=a.showAlert.bind(Object(w.a)(a)),a.renderAlert=a.renderAlert.bind(Object(w.a)(a)),a}return Object(m.a)(n,[{key:"followLoginIntent",value:function(){this.setState({isLoginModalVisible:!1});var e=this.state.loginIntent;if(e===ee){var t=Z.getToken().username;F.navigate("/#/profile/".concat(t))}else e===te&&F.navigate("/#/projects/create")}},{key:"showLoginModal",value:function(e){this.setState({isLoginModalVisible:!0,loginIntent:e})}},{key:"showAlert",value:function(e,t){this.setState({isAlertVisible:!0,alertType:t,alertText:e})}},{key:"renderAlert",value:function(){var e=this,t=this.state,n=t.isAlertVisible,a=t.alertType,o=t.alertText;return n?r.a.createElement(oe.a,{className:"layout-alert",variant:a,dismissible:!0,onClose:function(){return e.setState({isAlertVisible:!1})}},o):null}},{key:"render",value:function(){var e=this,t=this.props,n=t.className,a=t.children,o=this.state.isLoginModalVisible,c={showAlert:this.showAlert,showLoginModal:this.showLoginModal};return r.a.createElement(de.Provider,{value:c},r.a.createElement(ae,null),r.a.createElement(ue,{show:o,onClose:function(){return e.setState({isLoginModalVisible:!1})},onLogin:this.followLoginIntent}),r.a.createElement("div",{className:"container-fluid"},this.renderAlert(),r.a.createElement("main",{className:n},a)))}}]),n}(r.a.Component);function me(e,t){return function(n){var a=r.a.createElement(de.Consumer,null,(function(t){return r.a.createElement(e,Object.assign({},n,{showAlert:t.showAlert,showLoginModal:t.showLoginModal}))}));return t?r.a.createElement(pe,{className:t},a):a}}var he=Object(i.f)(pe),fe={duplicate:"An account already exists with this email or username."},ve=function(e){Object(f.a)(n,e);var t=Object(h.a)(n);function n(e){var a;return Object(p.a)(this,n),(a=t.call(this,e)).state={email:"",username:"",password:"",errorMessage:null},a.onChange=a.onChange.bind(Object(w.a)(a)),a.register=a.register.bind(Object(w.a)(a)),a}return Object(m.a)(n,[{key:"componentDidMount",value:function(){var e=F.getQueryParams().get("error");e&&this.setState({errorMessage:fe[e]||"An unknown error occurred."})}},{key:"onChange",value:function(e,t){var n=t.target.value;this.setState(Object(re.a)({},e,n))}},{key:"register",value:function(){var e=Object(d.a)(u.a.mark((function e(){var t,n,a,r;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=this.state,n=t.email,a=t.username,r=t.password,e.prev=1,e.next=4,Z.register(n,a,r);case 4:F.navigate("/#/profile/".concat(a)),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(1),this.setState({errorMessage:e.t0.message});case 10:case"end":return e.stop()}}),e,this,[[1,7]])})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this,t=this.props.showLoginModal,n=this.state,a=n.email,o=n.username,c=n.password,i=n.errorMessage,s=""===a.trim()||""===o.trim()||""===c.trim();return r.a.createElement("div",{className:"register"},r.a.createElement("h1",null,"Create an Account"),i&&r.a.createElement(oe.a,{variant:"danger"},i),r.a.createElement(ce.a,null,r.a.createElement(ce.a.Group,null,r.a.createElement(ce.a.Control,{type:"email",placeholder:"Email",onChange:function(t){return e.onChange("email",t)}})),r.a.createElement(ce.a.Group,null,r.a.createElement(ce.a.Control,{type:"text",placeholder:"Username",onChange:function(t){return e.onChange("username",t)}})),r.a.createElement(ce.a.Group,null,r.a.createElement(ce.a.Control,{type:"password",placeholder:"Password",onChange:function(t){return e.onChange("password",t)}})),r.a.createElement(P.a,{onClick:this.register,variant:"primary",block:!0,disabled:s},"Register"),r.a.createElement("h6",null,"Or..."),r.a.createElement(P.a,{href:Z.GITHUB_AUTH_URL,variant:"success",block:!0},r.a.createElement("span",null,r.a.createElement(S.e,{className:"icon",size:"1.8em"})," Register with GitHub")),r.a.createElement("h6",null,"Already have an account?",r.a.createElement("b",null,r.a.createElement(l.b,{to:"#",onClick:function(){return t(ee)}}," Login"))),r.a.createElement("h6",null,"Forgot your password?",r.a.createElement("b",null,r.a.createElement("a",{href:"/#/forgot_password"}," Click here")))))}}]),n}(r.a.Component),be=me(Object(i.f)(ve)),ge=n(61),Ee=n(137),je=(n(216),n(217),"owner"),ye="member",we={contentStyle:{background:"#6c757d",color:"#fff"},contentArrowStyle:{borderRight:"7px solid #6c757d"},iconStyle:{background:"#6c757d",color:"#fff"}},ke=[{title:"Register",text:"Create a profile on Quaranteam, including a bio, your skills, and your interest areas.",icon:r.a.createElement(S.m,null)},{title:"Ideate",text:"Come up with an exciting idea for a side project you'd like to work on.",icon:r.a.createElement(S.g,null)},{title:"Create a Project",text:"Create a project listing on Quaranteam. You will be able to specify the project's description, relevant interest areas, and skills required. You can also configure whether members can join directly, or whether they must be invited by you.",icon:r.a.createElement(S.h,null)},{title:"Find Members",text:"Users can request to join your project, or you can invite them to your project yourself. There are many talented users on Quaranteam!",icon:r.a.createElement(S.o,null)},{title:"Develop!",text:"Now that the project has a team, development can begin. As the owner, you can coordinate with teammates as to how to collaborate. Good luck!",icon:r.a.createElement(S.f,null)}],Ce=[{title:"Register",text:"Create a profile on Quaranteam, including a bio, your skills, and your interest areas.",icon:r.a.createElement(S.m,null)},{title:"Find a Project",text:"Quaranteam hosts numerous exciting projects. Search through the listings and find one that matches your skills and interest areas.",icon:r.a.createElement(S.i,null)},{title:"Join a Project",text:"Once you've found an exciting project, the next step is to join. Some projects can be joined immediately; for others, you will need to request to join.",icon:r.a.createElement(S.o,null)},{title:"Develop!",text:"Now that you've joined a project, you can begin developing. The project owner will provide guidelines on how to collaborate. Good luck!",icon:r.a.createElement(S.f,null)}],Oe=function(e){Object(f.a)(n,e);var t=Object(h.a)(n);function n(e){var a;return Object(p.a)(this,n),(a=t.call(this,e)).state={tab:je},a.changeTab=a.changeTab.bind(Object(w.a)(a)),a}return Object(m.a)(n,[{key:"changeTab",value:function(e){this.setState({tab:e})}},{key:"render",value:function(){var e=this,t=this.state.tab,n=t===je?ke:Ce;return r.a.createElement("div",{className:"home-timeline"},r.a.createElement("h1",{className:"timeline-header"},r.a.createElement("span",null,"\ud83e\udd14")," How does it work?"),r.a.createElement(ge.a,{className:"tab-changer"},r.a.createElement(P.a,{onClick:function(){return e.changeTab(je)},active:t===je,variant:"secondary"},"I have a project idea"),r.a.createElement(P.a,{onClick:function(){return e.changeTab(ye)},active:t===ye,variant:"secondary"},"I want to join a project")),r.a.createElement(Ee.VerticalTimeline,null,n.map((function(e,t){return r.a.createElement(Ee.VerticalTimelineElement,Object.assign({},we,{icon:e.icon,key:t}),r.a.createElement("h3",null,e.title),r.a.createElement("p",{className:"element-text"},e.text))}))))}}]),n}(r.a.Component),xe=n(24);function Ie(){var e=Object(N.a)(["\n  mutation($id: Int!) {\n    deleteProjectById(input: {id: $id}) {\n      clientMutationId\n    }\n  }\n"]);return Ie=function(){return e},e}function Pe(){var e=Object(N.a)(["\n  mutation(\n    $id: Int!\n    $name: String!\n    $description: String!\n    $directions: String!\n    $languages: [String]!\n    $interests: [String]!\n    $selfJoinable: Boolean!\n    $status: String!\n    $type: String!\n    $discordUrl: String\n    $level: Int\n  ) {\n    updateProjectById(\n      input: {\n        id: $id\n        projectPatch: {\n          name: $name\n          description: $description\n          directions: $directions\n          languages: $languages\n          interests: $interests\n          selfJoinable: $selfJoinable\n          status: $status\n          type: $type\n          discordUrl: $discordUrl\n          level: $level\n        }\n      }\n    ) {\n      clientMutationId\n    }\n  }\n"]);return Pe=function(){return e},e}function Se(){var e=Object(N.a)([" \n  mutation (\n    $ownerId: Int!\n    $name: String!\n    $description: String!\n    $directions: String!\n    $languages: [String]!\n    $interests: [String]!\n    $selfJoinable: Boolean!\n    $status: String!\n    $type: String!\n    $discordUrl: String!\n    $level: Int\n  ) {\n    createProject(\n      input: {\n        project: {\n          ownerId: $ownerId\n          name: $name\n          description: $description\n          directions: $directions\n          languages: $languages\n          interests: $interests\n          selfJoinable: $selfJoinable\n          status: $status\n          type: $type\n          discordUrl: $discordUrl\n          level: $level\n        }\n      }\n    ) {\n      clientMutationId\n      project {\n        id\n      }\n    }\n  }"]);return Se=function(){return e},e}function Ne(){var e=Object(N.a)(["\n  query ($profileId: Int!) {\n    profileById(id: $profileId) {\n      ownedProjects {\n        nodes { id name }\n      }\n    }\n  }\n"]);return Ne=function(){return e},e}function Te(){var e=Object(N.a)(['\n  query ($search: String!, $orderBy: [ProjectsOrderBy!]) {\n    allProjects(\n      filter: {\n        or: [\n          { name: { includesInsensitive: $search } }\n          { description: { includesInsensitive: $search } }\n          { interestsText: { includesInsensitive: $search } }\n          { languagesText: { includesInsensitive: $search } }\n        ]\n      }\n      orderBy: $orderBy\n      condition: { type: "public" }\n    ) {\n      edges {\n        node {\n          id, name, description\n          languages, interests, status\n          selfJoinable, type, level\n          members { totalCount }\n        }\n      }\n    }\n  }\n']);return Te=function(){return e},e}function Me(){var e=Object(N.a)(['\n  query ($orderBy: [ProjectsOrderBy!]) {\n    allProjects(\n      condition: { type: "public" }\n      orderBy: $orderBy\n    ) {\n      edges {\n        node {\n          id, name, description\n          languages, interests, status\n          selfJoinable, type, level\n          members { totalCount }\n        }\n      }\n    }\n  }\n']);return Me=function(){return e},e}function $e(){var e=Object(N.a)(["\n  query ($id: Int!) {\n    projectById(id: $id) {\n      description, directions\n      name, languages\n      selfJoinable, status, type\n      id, interests, ownerId, level,\n      discordUrl\n      owner { id username }\n      members {\n        totalCount\n        nodes { id username }\n      }\n      pendingMembers {\n        nodes { id username }\n        edges { id type status }\n      }\n    }\n  }\n"]);return $e=function(){return e},e}function Le(){var e=Object(N.a)(["\n  query {\n    allProjects {\n      totalCount\n    }\n  }\n"]);return Le=function(){return e},e}var Be=M()(Le()),Fe=M()($e()),qe=M()(Me()),Ae=M()(Te()),Ue=M()(Ne()),De=M()(Se()),Re=M()(Pe()),Ve=M()(Ie());function He(){return(He=Object(d.a)(u.a.mark((function e(){var t;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,z.query({query:Be});case 3:return t=e.sent,e.abrupt("return",t.data.allProjects.totalCount);case 7:throw e.prev=7,e.t0=e.catch(0),e.t0;case 10:case"end":return e.stop()}}),e,null,[[0,7]])})))).apply(this,arguments)}function ze(){return(ze=Object(d.a)(u.a.mark((function e(t){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,z.mutate({mutation:Re,variables:t});case 3:e.next=8;break;case 5:throw e.prev=5,e.t0=e.catch(0),e.t0;case 8:case"end":return e.stop()}}),e,null,[[0,5]])})))).apply(this,arguments)}function _e(){return(_e=Object(d.a)(u.a.mark((function e(t){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,z.mutate({mutation:Ve,variables:{id:t}});case 3:e.next=8;break;case 5:throw e.prev=5,e.t0=e.catch(0),e.t0;case 8:case"end":return e.stop()}}),e,null,[[0,5]])})))).apply(this,arguments)}function Je(){return(Je=Object(d.a)(u.a.mark((function e(t){var n,a;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,z.query({query:Fe,variables:{id:t}});case 3:return n=e.sent,(a=n.data.projectById).pendingMembers.nodes=a.pendingMembers.nodes.map((function(e,t){return Object(xe.a)({},e,{requestId:a.pendingMembers.edges[t].id,requestStatus:a.pendingMembers.edges[t].status,requestType:a.pendingMembers.edges[t].type})})),e.abrupt("return",a);case 9:throw e.prev=9,e.t0=e.catch(0),e.t0;case 12:case"end":return e.stop()}}),e,null,[[0,9]])})))).apply(this,arguments)}function Ge(){return(Ge=Object(d.a)(u.a.mark((function e(t,n){var a,r;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t?Ae:qe,e.prev=1,e.next=4,z.query({query:a,variables:{search:t,orderBy:n}});case 4:return r=e.sent,e.abrupt("return",r.data.allProjects.edges.map((function(e){return e.node})));case 8:throw e.prev=8,e.t0=e.catch(1),e.t0;case 11:case"end":return e.stop()}}),e,null,[[1,8]])})))).apply(this,arguments)}function Qe(){return(Qe=Object(d.a)(u.a.mark((function e(t){var n;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,z.mutate({mutation:De,variables:t});case 3:return n=e.sent,e.abrupt("return",n.data.createProject.project.id);case 7:throw e.prev=7,e.t0=e.catch(0),e.t0;case 10:case"end":return e.stop()}}),e,null,[[0,7]])})))).apply(this,arguments)}function We(){return(We=Object(d.a)(u.a.mark((function e(t){var n;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,z.query({query:Ue,variables:{profileId:t}});case 3:return n=e.sent,e.abrupt("return",n.data.profileById.ownedProjects.nodes);case 7:throw e.prev=7,e.t0=e.catch(0),e.t0;case 10:case"end":return e.stop()}}),e,null,[[0,7]])})))).apply(this,arguments)}var Ye={getProjects:function(e,t){return Ge.apply(this,arguments)},getOwnedProjects:function(e){return We.apply(this,arguments)},getProject:function(e){return Je.apply(this,arguments)},createProject:function(e){return Qe.apply(this,arguments)},deleteProject:function(e){return _e.apply(this,arguments)},updateProject:function(e){return ze.apply(this,arguments)},getProjectCount:function(){return He.apply(this,arguments)}};function Ke(){var e=Object(N.a)(["\n  mutation (\n    $username: String!\n    $bio: String\n    $pictureUrl: String\n    $interests: [String]!\n    $languages: [String]!\n    $level: Int\n  ) {\n    updateProfileByUsername(\n      input: {\n        username: $username\n        profilePatch: {\n          bio: $bio\n          pictureUrl: $pictureUrl\n          interests: $interests\n          languages: $languages\n          level: $level\n        }\n      }\n    ) { clientMutationId }\n  }"]);return Ke=function(){return e},e}function Xe(){var e=Object(N.a)(["\n  query ($username: String!) {\n    profileByUsername(username: $username) {\n      id, username pictureUrl, \n      bio, interests, languages, tz, level,\n      ownedProjects { nodes { id, name } }\n      projects { nodes { id, name } }\n      pendingProjects {\n        nodes { id, name }\n        edges { id, status, type }\n      }\n    }\n  }"]);return Xe=function(){return e},e}function Ze(){var e=Object(N.a)(["\n  query ($search: String!, $orderBy: [ProfilesOrderBy!]) {\n    allProfiles(\n      orderBy: $orderBy\n      filter: {\n        or: [\n          { username: { includesInsensitive: $search } }\n          { bio: { includesInsensitive: $search } }\n          { interestsText: { includesInsensitive: $search } }\n          { languagesText: { includesInsensitive: $search } }\n        ]\n      }\n    ) {\n      edges {\n        node {\n          username\n          id\n          bio\n          interests\n          languages\n          pictureUrl\n          level\n        }\n      }\n    }\n  }\n"]);return Ze=function(){return e},e}function et(){var e=Object(N.a)(["\n  query ($orderBy: [ProfilesOrderBy!]) {\n    allProfiles (\n      orderBy: $orderBy\n    ) {\n      edges {\n        node {\n          username\n          id\n          bio\n          interests\n          languages\n          pictureUrl\n          level\n        }\n      }\n    }\n  }\n"]);return et=function(){return e},e}function tt(){var e=Object(N.a)(["\n  query {\n    allProfiles {\n      totalCount\n    }\n  }\n"]);return tt=function(){return e},e}var nt=M()(tt()),at=M()(et()),rt=M()(Ze()),ot=M()(Xe()),ct=M()(Ke());function lt(){return(lt=Object(d.a)(u.a.mark((function e(){var t;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,z.query({query:nt});case 3:return t=e.sent,e.abrupt("return",t.data.allProfiles.totalCount);case 7:throw e.prev=7,e.t0=e.catch(0),e.t0;case 10:case"end":return e.stop()}}),e,null,[[0,7]])})))).apply(this,arguments)}function it(){return(it=Object(d.a)(u.a.mark((function e(t){var n,a;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,z.query({query:ot,variables:{username:t}});case 3:return n=e.sent,(a=n.data.profileByUsername).pendingProjects.nodes=a.pendingProjects.nodes.map((function(e,t){return Object(xe.a)({},e,{requestId:a.pendingProjects.edges[t].id,requestStatus:a.pendingProjects.edges[t].status,requestType:a.pendingProjects.edges[t].type})})),e.abrupt("return",a);case 9:throw e.prev=9,e.t0=e.catch(0),e.t0;case 12:case"end":return e.stop()}}),e,null,[[0,9]])})))).apply(this,arguments)}function st(){return(st=Object(d.a)(u.a.mark((function e(t){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.bio=t.bio||null,e.prev=1,e.next=4,z.mutate({mutation:ct,variables:t});case 4:e.next=9;break;case 6:throw e.prev=6,e.t0=e.catch(1),e.t0;case 9:case"end":return e.stop()}}),e,null,[[1,6]])})))).apply(this,arguments)}function ut(){return(ut=Object(d.a)(u.a.mark((function e(t,n){var a,r;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t?rt:at,e.prev=1,e.next=4,z.query({query:a,variables:{search:t,orderBy:n}});case 4:return r=e.sent,e.abrupt("return",r.data.allProfiles.edges.map((function(e){return e.node})));case 8:throw e.prev=8,e.t0=e.catch(1),e.t0;case 11:case"end":return e.stop()}}),e,null,[[1,8]])})))).apply(this,arguments)}var dt={getProfile:function(e){return it.apply(this,arguments)},updateProfile:function(e){return st.apply(this,arguments)},getProfiles:function(e,t){return ut.apply(this,arguments)},getProfileCount:function(){return lt.apply(this,arguments)}},pt=(n(218),function(e){Object(f.a)(n,e);var t=Object(h.a)(n);function n(e){var a;return Object(p.a)(this,n),(a=t.call(this,e)).state={projectCount:0,profileCount:0},a}return Object(m.a)(n,[{key:"componentDidMount",value:function(){var e=Object(d.a)(u.a.mark((function e(){var t,n;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Z.handleGitHubLogin(),e.prev=1,e.next=4,Ye.getProjectCount();case 4:return t=e.sent,e.next=7,dt.getProfileCount();case 7:n=e.sent,this.setState({projectCount:t,profileCount:n}),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(1),console.log(e.t0);case 14:case"end":return e.stop()}}),e,this,[[1,11]])})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this.state,t=e.profileCount,n=e.projectCount;return r.a.createElement(r.a.Fragment,null,r.a.createElement(he,{className:"home-page"},r.a.createElement(v.a,null,r.a.createElement("title",null,"Quaranteam")),r.a.createElement(E.a,null,r.a.createElement(j.a,null,r.a.createElement(y.a,{xs:{span:12},md:{span:6},className:"home-text"},r.a.createElement("h1",{className:"home-header"},r.a.createElement("span",null,"\ud83e\uddec")," Quaranteam"),r.a.createElement("br",null),r.a.createElement("p",null,"Perhaps your internship was cancelled. Or you're simply bored. Creating a side project is a fun and effective way to continue improving your development skills. And there's no better way to do it than with a team of motivated peers."),r.a.createElement("p",null,r.a.createElement("b",null,"Quaranteam")," is the best platform for finding projects and team members. Register to join ",r.a.createElement("b",null,r.a.createElement(g.a,{end:t,delay:0}))," members working on ",r.a.createElement("b",null,r.a.createElement(g.a,{end:n,delay:0}))," projects!")),r.a.createElement(y.a,{xs:{span:12},md:{span:6}},r.a.createElement(be,null))),r.a.createElement("br",null),r.a.createElement(Oe,null)),r.a.createElement("footer",null,r.a.createElement("p",null,"Quaranteam.tech \xa9 2020 | Developed by: Dhantin Kumar & Kaan Aksoy"))),r.a.createElement("div",{className:"stars"}),r.a.createElement("div",{className:"twinkling"}))}}]),n}(r.a.Component)),mt=n(114),ht=n(115),ft=n.n(ht),vt=n(47),bt=n(98),gt={10:{label:"Beginner",value:10,variant:"success"},20:{label:"Intermediate",value:20,variant:"warning"},30:{label:"Advanced",value:30,variant:"info"},40:{label:"Expert",value:40,variant:"danger"}};var Et={getLevel:function(e){return gt[e]||null},getLevelOptions:function(){return Object.entries(gt).map((function(e){var t=Object(bt.a)(e,2),n=t[0],a=t[1];return{value:Number(n),label:a.label}}))}},jt=n(96),yt=n.n(jt),wt=n(30);n(150),n(151),n(152);function kt(e){var t=e.project;return r.a.createElement(vt.a,{className:"search-card",bg:"secondary"},r.a.createElement("a",{href:"/#/project/".concat(t.id),style:{color:"inherit",textDecoration:"inherit"}},r.a.createElement(vt.a.Body,null,r.a.createElement(vt.a.Header,null,t.name," ",t.level&&r.a.createElement(r.a.Fragment,null,r.a.createElement(wt.a,{className:"level-badge",variant:Et.getLevel(t.level).variant,pill:!0},Et.getLevel(t.level).label),r.a.createElement("br",null))),r.a.createElement(vt.a.Text,null,r.a.createElement(yt.a,{className:"markdown",disallowedTypes:["heading","link","image"],unwrapDisallowed:!0,source:t.description||"This project currently has no description."}))),r.a.createElement(vt.a.Footer,null,r.a.createElement("b",null,"Members:")," ",t.members.totalCount+1,r.a.createElement("br",null),r.a.createElement("b",null,"Status:")," ",t.status||"None listed",r.a.createElement("br",null),t.interests.length>0&&r.a.createElement(r.a.Fragment,null,r.a.createElement("b",null,"Interests: "),t.interests.map((function(e){return r.a.createElement(wt.a,{pill:!0,key:e,variant:"dark"},e)})),r.a.createElement("br",null)),t.languages.length>0&&r.a.createElement(r.a.Fragment,null,r.a.createElement("b",null,"Skills: "),t.languages.map((function(e){return r.a.createElement(wt.a,{pill:!0,key:e,variant:"dark"},e)}))))))}var Ct=n(38),Ot={control:function(e){return Object(xe.a)({},e,{minHeight:48,fontSize:"1.25em"})},menu:function(e){return Object(xe.a)({},e)},singleValue:function(e){return Object(xe.a)({},e,{color:"#495057"})},placeholder:function(e){return Object(xe.a)({},e,{color:"#6c757c"})}};function xt(e){var t=e.options,n=e.onChange;return r.a.createElement(Ct.a,{placeholder:"Sort by...",options:t,onChange:function(e){return n(e.value)},styles:Ot})}var It=[{label:"Newest First",value:["ID_DESC"]},{label:"Member Count",value:["MEMBERSHIP_COUNT_DESC"]},{label:"Title",value:["NAME_ASC"]},{label:"Development Status",value:["STATUS_ASC"]},{label:"Experience Level",value:["LEVEL_ASC"]}].map((function(e){return{value:e.value,label:e.label}}));function Pt(e){var t=e.onChange;return r.a.createElement(xt,{options:It,onChange:function(e){return t(e)}})}var St=n(175);n(300);function Nt(){return r.a.createElement("div",{className:"loading"},r.a.createElement(St.a,{animation:"grow",variant:"light"}),r.a.createElement("h6",null,"Loading..."))}var Tt=n(172),Mt=n(116),$t=function(e){Object(f.a)(n,e);var t=Object(h.a)(n);function n(e){var a;return Object(p.a)(this,n),(a=t.call(this,e)).state={projects:[],displayedProjects:[],search:"",orderBy:["ID_DESC"],finishedLoading:!1},a.retrieveProjects=Object(Mt.a)(200,a.retrieveProjects.bind(Object(w.a)(a))),a.renderHeader=a.renderHeader.bind(Object(w.a)(a)),a.renderProjects=a.renderProjects.bind(Object(w.a)(a)),a.renderCreateButton=a.renderCreateButton.bind(Object(w.a)(a)),a.fetchMoreProjects=a.fetchMoreProjects.bind(Object(w.a)(a)),a.sortProjects=a.sortProjects.bind(Object(w.a)(a)),a}return Object(m.a)(n,[{key:"convertToOption",value:function(e){return{label:e,value:e}}},{key:"componentDidMount",value:function(){var e=Object(d.a)(u.a.mark((function e(){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.retrieveProjects();case 1:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"retrieveProjects",value:function(){var e=Object(d.a)(u.a.mark((function e(){var t,n,a,r;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=this.state,n=t.search,a=t.orderBy,this.setState({finishedLoading:!1}),e.prev=2,e.next=5,Ye.getProjects(n,a);case 5:r=e.sent,this.setState({projects:r,displayedProjects:r.slice(0,9)}),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(2),console.log(e.t0);case 12:this.setState({finishedLoading:!0});case 13:case"end":return e.stop()}}),e,this,[[2,9]])})));return function(){return e.apply(this,arguments)}}()},{key:"fetchMoreProjects",value:function(){var e=this.state,t=e.projects,n=e.displayedProjects,a=t.slice(n.length,n.length+9);this.setState({displayedProjects:n.concat(a)})}},{key:"sortProjects",value:function(){var e=Object(d.a)(u.a.mark((function e(t){var n;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.setState({finishedLoading:!1}),e.next=3,Ye.getProjects(t);case 3:n=e.sent,this.setState({projects:n,displayedProjects:n.slice(0,9),finishedLoading:!0});case 5:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"renderCreateButton",value:function(){var e=this;return r.a.createElement(P.a,{onClick:function(){Z.isLoggedIn()?(window.history.pushState({},"","/#/projects/create"),window.location.reload()):(0,e.props.showLoginModal)(te)},className:"add-project-btn",variant:"outline-light",title:"Create a project"},r.a.createElement(S.h,null))}},{key:"renderHeader",value:function(){var e=this,t=this.state.search;return r.a.createElement(r.a.Fragment,null,r.a.createElement("h1",null,r.a.createElement("span",null,"\ud83d\udca1")," Projects",this.renderCreateButton()),r.a.createElement("p",null,"Discover projects and find one to join, or create your own!"),r.a.createElement(j.a,{className:"justify-content-md-center search-header"},r.a.createElement(y.a,{xs:{span:12},md:{span:4},lg:{span:3}},r.a.createElement(Tt.a,{placeholder:"Search by title, technologies, etc...",className:"search",value:t,type:"text",size:"lg",onChange:function(){var t=Object(d.a)(u.a.mark((function t(n){return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e.setState({search:n.target.value}),t.next=3,e.retrieveProjects();case 3:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()})),r.a.createElement(y.a,{xs:{span:12},md:{span:3},lg:{span:2}},r.a.createElement(Pt,{onChange:function(){var t=Object(d.a)(u.a.mark((function t(n){return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e.setState({orderBy:n}),t.next=3,e.retrieveProjects();case 3:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()}))))}},{key:"renderProjects",value:function(){var e=this.state,t=e.projects,n=e.finishedLoading,a=e.displayedProjects,o=t.length>a.length;return n?0===t.length?r.a.createElement("h4",null,"No projects match the search."):r.a.createElement(mt.a,{className:"row",dataLength:a.length,next:this.fetchMoreProjects,hasMore:o,loader:r.a.createElement("span",{className:"infinite-load-text"},"Loading...")},a.map((function(e){return r.a.createElement(y.a,{sm:"4",key:e.id,style:{overflowX:"none"}},r.a.createElement(kt,{project:e}))}))):r.a.createElement(Nt,null)}},{key:"render",value:function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement(v.a,null,r.a.createElement("title",null,"Projects")),r.a.createElement(E.a,{fluid:!0},this.renderHeader(),this.renderProjects()),r.a.createElement(ft.a,{showUnder:260},r.a.createElement("h2",null,r.a.createElement(S.a,{title:"Scroll to top"}))))}}]),n}(r.a.Component),Lt=me(Object(i.f)($t),"projects-page");n(65);function Bt(e){var t=e.project,n=e.onClick;if(!Z.isLoggedIn())return null;var a=Z.getToken().sub,o=a===t.ownerId,c=t.members.nodes.some((function(e){return e.id===a}));return o||c?null:t.pendingMembers.nodes.some((function(e){return e.id===a}))?r.a.createElement(P.a,{variant:"dark",size:"sm",disabled:!0},"Awaiting request response"):r.a.createElement(P.a,{variant:"dark",size:"sm",onClick:n},t.selfJoinable?"Join Project":"Request to Join")}n(128);function Ft(e){var t=e.show,n=e.message,a=e.onClose,o=e.onConfirm;return r.a.createElement(le.a,{show:t,onHide:a,size:"md",centered:!0},r.a.createElement(le.a.Header,{closeButton:!0},r.a.createElement(le.a.Title,null,"Confirm")),r.a.createElement(le.a.Body,null,n),r.a.createElement(le.a.Footer,null,r.a.createElement(P.a,{variant:"dark",onClick:a},"Close"),r.a.createElement(P.a,{variant:"dark",onClick:o},"Confirm")))}var qt=function(e){Object(f.a)(n,e);var t=Object(h.a)(n);function n(e){var a;return Object(p.a)(this,n),(a=t.call(this,e)).state={showConfirmationModal:!1},a.confirm=a.confirm.bind(Object(w.a)(a)),a}return Object(m.a)(n,[{key:"confirm",value:function(){this.setState({showConfirmationModal:!1}),this.props.onConfirm()}},{key:"render",value:function(){var e=this,t=this.props.message,n=this.state.showConfirmationModal,a=r.a.Children.map(this.props.children,(function(t){return r.a.cloneElement(t,{onClick:function(){return e.setState({showConfirmationModal:!0})}})}));return r.a.createElement(r.a.Fragment,null,r.a.createElement(Ft,{show:n,message:t,onClose:function(){return e.setState({showConfirmationModal:!1})},onConfirm:this.confirm}),a)}}]),n}(r.a.Component),At=function(e){Object(f.a)(n,e);var t=Object(h.a)(n);function n(e){return Object(p.a)(this,n),t.call(this,e)}return Object(m.a)(n,[{key:"renderNav",value:function(e){var t=this.props,n=t.onTabChange,a=t.tab;return Z.isLoggedIn()&&Z.getToken().sub===e.ownerId?r.a.createElement(r.a.Fragment,null,r.a.createElement(O.a,{fill:!0,variant:"pills",activeKey:a},r.a.createElement(O.a.Item,{className:"overview-tab",onClick:function(){return n(Hn.OVERVIEW)}},r.a.createElement(O.a.Link,{eventKey:"overview"},"Overview")),r.a.createElement(O.a.Item,{className:"manage-members",onClick:function(){return n(Hn.MANAGE)}},r.a.createElement(O.a.Link,{eventKey:"manage"},"Manage Members"))),r.a.createElement("hr",null)):null}},{key:"render",value:function(){var e=this.props,t=e.tab,n=e.project,a=e.isEditable,o=e.isEditValid,c=e.onJoin,l=e.onLeave,i=e.onInvite,s=e.onToggleEditable,u=e.onSave,d=e.onDelete,p=Z.isLoggedIn()&&Z.getToken().sub===n.owner.id,m=Z.isLoggedIn()&&!p&&n.members.nodes.some((function(e){return e.id===Z.getToken().sub}));return r.a.createElement(vt.a.Header,{className:"project-header"},this.renderNav(n),r.a.createElement("h2",null,r.a.createElement("b",null,n.name,p&&t===Hn.OVERVIEW&&r.a.createElement(r.a.Fragment,null,a&&r.a.createElement(r.a.Fragment,null,o&&r.a.createElement(S.c,{title:"Save Changes",onClick:u}),r.a.createElement(S.j,{title:"Revert Changes",onClick:s})),!a&&r.a.createElement("span",{className:"project-toggles"},r.a.createElement(S.d,{title:"Edit Project",onClick:s}),r.a.createElement(qt,{message:"Are you sure you want to delete this project?",onConfirm:d},r.a.createElement(S.l,{title:"Delete Project"})))))),p&&t===Hn.MANAGE&&r.a.createElement(P.a,{onClick:i,size:"sm",variant:"dark"},"Invite Member"),r.a.createElement(Bt,{project:n,onClick:c}),m&&r.a.createElement(r.a.Fragment,null,r.a.createElement(qt,{message:"Are you sure you want to leave the project?",onConfirm:l},r.a.createElement(P.a,{variant:"dark",size:"sm",className:"leave-project-button"},"Leave Project"))))}}]),n}(r.a.Component);function Ut(){var e=Object(N.a)(['\n  mutation($profileId: Int!, $projectId: Int!) {\n    createRequest (\n      input: {\n        request: {\n          profileId: $profileId\n          projectId: $projectId\n          type: "request"\n        }\n      }\n    ) { clientMutationId }\n  }\n']);return Ut=function(){return e},e}function Dt(){var e=Object(N.a)(['\n  mutation($profileId: Int!, $projectId: Int!) {\n    createRequest (\n      input: {\n        request: {\n          profileId: $profileId\n          projectId: $projectId\n          type: "invite"\n        }\n      }\n    ) { clientMutationId }\n  }\n']);return Dt=function(){return e},e}function Rt(){var e=Object(N.a)(["\n  mutation ($profileId: Int!, $projectId: Int!) {\n    deleteMembershipByProfileIdAndProjectId(\n      input: {profileId: $profileId, projectId: $projectId}\n    ) { clientMutationId }\n  }\n"]);return Rt=function(){return e},e}function Vt(){var e=Object(N.a)(["\n  mutation($profileId: Int!, $projectId: Int!) {\n    createMembership (\n      input: {\n        membership: {\n          profileId: $profileId\n          projectId: $projectId\n        }\n      }\n    ) { clientMutationId }\n  }\n"]);return Vt=function(){return e},e}function Ht(){var e=Object(N.a)(['\n  mutation ($requestId: Int!) {\n    updateRequestById(input: {\n      requestPatch: {\n        status: "declined"\n      }, id: $requestId\n    }) { clientMutationId }\n  }\n']);return Ht=function(){return e},e}function zt(){var e=Object(N.a)(['\n  mutation ($profileId: Int!, $projectId: Int!) {\n    updateRequestByProfileIdAndProjectId(input: {\n      requestPatch: {\n        status: "accepted"\n      }, \n      profileId: $profileId\n      projectId: $projectId\n    }) { clientMutationId }\n    \n    createMembership(input: {\n      membership: {\n        profileId: $profileId\n        projectId: $projectId\n      }\n    }) { clientMutationId }\n  }\n']);return zt=function(){return e},e}var _t=M()(zt()),Jt=M()(Ht()),Gt=M()(Vt()),Qt=M()(Rt()),Wt=M()(Dt()),Yt=M()(Ut());function Kt(){return(Kt=Object(d.a)(u.a.mark((function e(t,n){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,z.mutate({mutation:_t,variables:{profileId:t,projectId:n}});case 3:e.next=8;break;case 5:throw e.prev=5,e.t0=e.catch(0),e.t0;case 8:case"end":return e.stop()}}),e,null,[[0,5]])})))).apply(this,arguments)}function Xt(){return(Xt=Object(d.a)(u.a.mark((function e(t){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,z.mutate({mutation:Jt,variables:{requestId:t}});case 3:e.next=8;break;case 5:throw e.prev=5,e.t0=e.catch(0),e.t0;case 8:case"end":return e.stop()}}),e,null,[[0,5]])})))).apply(this,arguments)}function Zt(){return(Zt=Object(d.a)(u.a.mark((function e(t,n){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,z.mutate({mutation:Yt,variables:{profileId:t,projectId:n}});case 3:e.next=8;break;case 5:throw e.prev=5,e.t0=e.catch(0),e.t0;case 8:case"end":return e.stop()}}),e,null,[[0,5]])})))).apply(this,arguments)}function en(){return(en=Object(d.a)(u.a.mark((function e(t,n){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,z.mutate({mutation:Gt,variables:{profileId:t,projectId:n}});case 3:e.next=8;break;case 5:throw e.prev=5,e.t0=e.catch(0),e.t0;case 8:case"end":return e.stop()}}),e,null,[[0,5]])})))).apply(this,arguments)}function tn(){return(tn=Object(d.a)(u.a.mark((function e(t,n){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,z.mutate({mutation:Qt,variables:{profileId:t,projectId:n}});case 3:e.next=8;break;case 5:throw e.prev=5,e.t0=e.catch(0),e.t0;case 8:case"end":return e.stop()}}),e,null,[[0,5]])})))).apply(this,arguments)}function nn(){return(nn=Object(d.a)(u.a.mark((function e(t,n){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,z.mutate({mutation:Wt,variables:{profileId:t,projectId:n}});case 3:e.next=8;break;case 5:throw e.prev=5,e.t0=e.catch(0),e.t0;case 8:case"end":return e.stop()}}),e,null,[[0,5]])})))).apply(this,arguments)}var an={accept:function(e,t){return Kt.apply(this,arguments)},decline:function(e){return Xt.apply(this,arguments)},requestToJoinProject:function(e,t){return Zt.apply(this,arguments)},joinProject:function(e,t){return en.apply(this,arguments)},leaveProject:function(e,t){return tn.apply(this,arguments)},inviteToProject:function(e,t){return nn.apply(this,arguments)}},rn=(n(129),function(e){Object(f.a)(n,e);var t=Object(h.a)(n);function n(e){var a;return Object(p.a)(this,n),(a=t.call(this,e)).state={profileOptions:[],selectedProfile:null},a.onChange=a.onChange.bind(Object(w.a)(a)),a}return Object(m.a)(n,[{key:"componentDidMount",value:function(){var e=Object(d.a)(u.a.mark((function e(){var t,n;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(Z.isLoggedIn()){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,dt.getProfiles();case 4:t=e.sent,n=Z.getToken().username,this.setState({profileOptions:t.filter((function(e){return e.username!==n})).map(this.convertToOption)});case 7:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"convertToOption",value:function(e){return{label:e.username,value:e.id}}},{key:"onChange",value:function(e){this.setState({selectedProfile:e})}},{key:"render",value:function(){var e=this.props,t=e.show,n=e.onClose,a=e.onConfirm,o=this.state,c=o.profileOptions,l=o.selectedProfile,i=null===l;return r.a.createElement(le.a,{show:t,animation:!1,onHide:n},r.a.createElement(le.a.Header,{closeButton:!0},r.a.createElement(le.a.Title,null,"Invite Member")),r.a.createElement(le.a.Body,null,"Send an invitation to the following user:",r.a.createElement(Ct.a,{className:"modal-select",variant:"dark",options:c,value:l,onChange:this.onChange})),r.a.createElement(le.a.Footer,null,r.a.createElement(P.a,{variant:"dark",onClick:n},"Close"),r.a.createElement(P.a,{variant:"dark",disabled:i,onClick:function(){return a(l.value)}},"Confirm")))}}]),n}(r.a.Component)),on=n(185),cn=n(97);function ln(){var e=Object(N.a)(['\n  query {\n    allTags(\n      orderBy: NAME_ASC\n      condition: { type: "interest" }\n    ) {\n      nodes {\n        name\n      }\n    }\n  }\n']);return ln=function(){return e},e}function sn(){var e=Object(N.a)(['\n  query {\n    allTags(\n      orderBy: NAME_ASC\n      condition: { type: "skill" }\n    ) {\n      nodes {\n        name\n      }\n    }\n  }\n']);return sn=function(){return e},e}var un=null,dn=null,pn=M()(sn()),mn=M()(ln());function hn(){return(hn=Object(d.a)(u.a.mark((function e(){var t;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!un){e.next=2;break}return e.abrupt("return",un);case 2:return e.prev=2,e.next=5,z.query({query:pn});case 5:return t=e.sent,un=t.data.allTags.nodes.map((function(e){return e.name})),e.abrupt("return",un);case 10:throw e.prev=10,e.t0=e.catch(2),e.t0;case 13:case"end":return e.stop()}}),e,null,[[2,10]])})))).apply(this,arguments)}function fn(){return(fn=Object(d.a)(u.a.mark((function e(){var t;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!dn){e.next=2;break}return e.abrupt("return",dn);case 2:return e.prev=2,e.next=5,z.query({query:mn});case 5:return t=e.sent,dn=t.data.allTags.nodes.map((function(e){return e.name})),e.abrupt("return",dn);case 10:throw e.prev=10,e.t0=e.catch(2),e.t0;case 13:case"end":return e.stop()}}),e,null,[[2,10]])})))).apply(this,arguments)}var vn={getSkills:function(){return hn.apply(this,arguments)},getInterests:function(){return fn.apply(this,arguments)}};function bn(e){return Object(xe.a)({},e,{colors:Object(xe.a)({},e.colors,{primary25:"gray",primary:"#64485C",backgroundColor:"transparent"})})}var gn=function(e){Object(f.a)(n,e);var t=Object(h.a)(n);function n(e){var a;return Object(p.a)(this,n),(a=t.call(this,e)).state={options:[]},a}return Object(m.a)(n,[{key:"componentDidMount",value:function(){var e=Object(d.a)(u.a.mark((function e(){var t,n;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=this.props.type,e.prev=1,"interests"!==t){e.next=8;break}return e.next=5,vn.getInterests();case 5:e.t0=e.sent,e.next=11;break;case 8:return e.next=10,vn.getSkills();case 10:e.t0=e.sent;case 11:n=e.t0,this.setState({options:this.convertToOptions(n)}),e.next=18;break;case 15:e.prev=15,e.t1=e.catch(1),console.log(e.t1);case 18:case"end":return e.stop()}}),e,this,[[1,15]])})));return function(){return e.apply(this,arguments)}}()},{key:"convertToOptions",value:function(e){return e?e.map((function(e){return{label:e,value:e}})):[]}},{key:"render",value:function(){var e=this.state.options,t=this.props,n=t.value,a=t.onChange;return r.a.createElement(Ct.a,{theme:bn,options:e,value:this.convertToOptions(n),onChange:function(e){return a(e?e.map((function(e){return e.value})):[])},isMulti:!0})}}]),n}(r.a.Component),En=["Planning Phase","Design Phase","Development Phase","Testing Phase","Deployment Phase","Looking for Open Source Contributions"].map((function(e){return{value:e,label:e}})),jn="custom",yn="auto";function wn(e){return Object(xe.a)({},e,{colors:Object(xe.a)({},e.colors,{primary25:"gray",primary:"#64485C",backgroundColor:"transparent"})})}var kn=function(e){Object(f.a)(n,e);var t=Object(h.a)(n);function n(e){var a;return Object(p.a)(this,n),(a=t.call(this,e)).onChange=a.onChange.bind(Object(w.a)(a)),a.convertToOption=a.convertToOption.bind(Object(w.a)(a)),a.getChatType=a.getChatType.bind(Object(w.a)(a)),a.changeChatType=a.changeChatType.bind(Object(w.a)(a)),a.renderChatChannelInput=a.renderChatChannelInput.bind(Object(w.a)(a)),a}return Object(m.a)(n,[{key:"onChange",value:function(e,t){this.props.onProjectFieldEdit(e,t)}},{key:"convertToOption",value:function(e){if(e)return{label:e,value:e}}},{key:"getChatType",value:function(){return"_"===this.props.project.discordUrl?yn:jn}},{key:"changeChatType",value:function(e){this.props.onProjectFieldEdit("discordUrl",e===yn?"_":"")}},{key:"renderChatChannelInput",value:function(){var e=this,t=this.props,n=t.project;return t.isCreateView?r.a.createElement(r.a.Fragment,null,r.a.createElement(ce.a.Row,null,r.a.createElement(on.a,{type:"radio",name:"chatTypeToggle",value:this.getChatType(),className:"chat-type-toggle",onChange:this.changeChatType},r.a.createElement(cn.a,{value:yn,size:"sm",variant:"light"},"Create a public Discord for me"),r.a.createElement(cn.a,{value:jn,size:"sm",variant:"light"},"I'll provide my own URL"))),r.a.createElement(ce.a.Control,{placeholder:"Link to a chat channel like Discord (will only be shown to project members)",value:"_"===n.discordUrl?"Will be created automatically":n.discordUrl,onChange:function(t){return e.onChange("discordUrl",t.target.value)},disabled:this.getChatType()===yn})):r.a.createElement(ce.a.Control,{placeholder:"Link to a chat channel like Discord (will only be shown to project members)",value:n.discordUrl,onChange:function(t){return e.onChange("discordUrl",t.target.value)}})}},{key:"render",value:function(){var e=this,t=this.props.project;return r.a.createElement(ce.a,null,r.a.createElement("h4",null,r.a.createElement("span",null,"\ud83d\udccb")," Name ",r.a.createElement("small",null,"(required)")),r.a.createElement(ce.a.Control,{value:t.name,placeholder:"A short title",onChange:function(t){return e.onChange("name",t.target.value)},maxLength:80}),r.a.createElement("hr",null),r.a.createElement("h4",null,r.a.createElement("span",null,"\u2139\ufe0f")," Description"),r.a.createElement(ce.a.Control,{as:"textarea",rows:"5",value:t.description||"",placeholder:"The project description is shown publicly to users who are interested in your project (Markdown is supported).",onChange:function(t){return e.onChange("description",t.target.value)}}),r.a.createElement("hr",null),r.a.createElement("h4",null,r.a.createElement("span",null,"\ud83d\udcbb")," Directions"),r.a.createElement(ce.a.Control,{as:"textarea",rows:"5",value:t.directions||"",placeholder:"Directions are shown only to project members, and should include information like onboarding directions, GitHub repositories, etc (Markdown is supported).",onChange:function(t){return e.onChange("directions",t.target.value)}}),r.a.createElement("hr",null),r.a.createElement("h4",null,r.a.createElement("span",null,"\ud83d\udcac")," Chat Channel"),this.renderChatChannelInput(),r.a.createElement("hr",null),r.a.createElement("h4",null,r.a.createElement("span",null,"\ud83d\udcda")," Experience Level"),r.a.createElement(Ct.a,{theme:wn,options:Et.getLevelOptions(),value:Et.getLevel(t.level),onChange:function(t){return e.onChange("level",t.value)}}),r.a.createElement("hr",null),r.a.createElement("h4",null,r.a.createElement("span",null,"\ud83e\uddf0")," Skills"),r.a.createElement(gn,{type:"skills",value:t.languages,onChange:function(t){return e.onChange("languages",t)}}),r.a.createElement("hr",null),r.a.createElement("h4",null,r.a.createElement("span",null,"\ud83e\uddea")," Interest Areas"),r.a.createElement(gn,{type:"interests",value:t.interests,onChange:function(t){return e.onChange("interests",t)}}),r.a.createElement("hr",null),r.a.createElement("h4",null,r.a.createElement("span",null,"\ud83d\udc69\u200d\ud83d\udd2c")," Joinable By Others?"),r.a.createElement(ce.a.Control,{as:"select",onChange:function(t){return e.onChange("selfJoinable","true"===t.target.value)},value:t.selfJoinable},r.a.createElement("option",{value:!0},"Yes! Anyone can join on their own."),r.a.createElement("option",{value:!1},"No, people need to ask before joining.")),r.a.createElement("hr",null),r.a.createElement("h4",null,r.a.createElement("span",null,"\u23f0")," Project Status"),r.a.createElement(Ct.a,{type:"status",options:En,value:this.convertToOption(t.status),onChange:function(t){return e.onChange("status",t.value)}}),r.a.createElement("hr",null),r.a.createElement("h4",null,r.a.createElement("span",null,"\ud83d\udc40")," Hidden from others?"),r.a.createElement(ce.a.Control,{as:"select",onChange:function(t){return e.onChange("type",t.target.value)},value:t.type},r.a.createElement("option",{value:"public"},"No! The project will be visible to all!"),r.a.createElement("option",{value:"private"},"Yes, only team members can see the project.")))}}]),n}(r.a.Component);function Cn(e){var t=e.project,n=t.members.totalCount+1,a=Z.isLoggedIn()&&t.members.nodes.some((function(e){return e.id===Z.getToken().sub})),o=Z.isLoggedIn()&&t.ownerId===Z.getToken().sub;return r.a.createElement(r.a.Fragment,null,r.a.createElement("h4",{className:"project-description"},r.a.createElement("span",null,"\u2139\ufe0f")," Description"),r.a.createElement(yt.a,{className:"markdown",source:t.description||"This project currently has no description."}),r.a.createElement("hr",null),(o||a)&&r.a.createElement(r.a.Fragment,null,r.a.createElement("h4",{className:"project-directions"},r.a.createElement("span",null,"\ud83d\udcbb")," Directions"),r.a.createElement(yt.a,{className:"markdown",source:t.directions||"This project currently has no directions."}),r.a.createElement("hr",null),r.a.createElement("h4",{className:"project-chat-channel"},r.a.createElement("span",null,"\ud83d\udcac")," Chat Channel"),r.a.createElement("div",{className:"project-chat-channel-url"},t.discordUrl?r.a.createElement("a",{href:t.discordUrl,target:"_blank"},t.discordUrl):r.a.createElement(vt.a.Text,null,"This project currently has no chat channel.")),r.a.createElement("hr",null)),r.a.createElement("h4",{className:"project-members"},r.a.createElement("span",null,"\ud83d\udc69\u200d\ud83d\udc69\u200d\ud83d\udc67\u200d\ud83d\udc66")," Members (",n,")"),r.a.createElement("div",{className:"project-members-badges"},r.a.createElement(wt.a,{pill:!0,variant:"success"},r.a.createElement("a",{href:"/#/profile/".concat(t.owner.username)},t.owner.username," (owner)")),t.members.nodes.map((function(e){return r.a.createElement(wt.a,{pill:!0,key:e.username,variant:"dark"},r.a.createElement("a",{href:"/#/profile/".concat(e.username)},e.username))}))),r.a.createElement("hr",null),t.level&&r.a.createElement(r.a.Fragment,null,r.a.createElement("h4",{className:"project-level"},r.a.createElement("span",null,"\ud83d\udcda")," Experience Level"),r.a.createElement("div",{className:"project-level-badge"},r.a.createElement("div",{className:"profile-badges"},r.a.createElement(wt.a,{pill:!0,variant:Et.getLevel(t.level).variant},Et.getLevel(t.level).label),r.a.createElement("br",null))),r.a.createElement("hr",null)),r.a.createElement("h4",{className:"project-skills"},r.a.createElement("span",null,"\ud83e\uddf0")," Skills"),r.a.createElement("div",{className:"project-skills-badges"},t.languages.map((function(e){return r.a.createElement(wt.a,{pill:!0,key:e,variant:"dark"},e)}))),r.a.createElement("hr",null),r.a.createElement("h4",{className:"project-interests"},r.a.createElement("span",null,"\ud83e\uddea")," Interest Areas"),r.a.createElement("div",{className:"project-interests-badges"},t.interests.map((function(e){return r.a.createElement(wt.a,{pill:!0,key:e,variant:"dark"},e)}))),r.a.createElement("hr",null),r.a.createElement("h4",{className:"project-status"},r.a.createElement("span",null,"\u23f0")," Project Status"),r.a.createElement(vt.a.Text,null,t.status))}var On=function(e){Object(f.a)(n,e);var t=Object(h.a)(n);function n(e){return Object(p.a)(this,n),t.call(this,e)}return Object(m.a)(n,[{key:"render",value:function(){var e=this.props,t=e.project,n=e.editableProject,a=e.isEditable,o=e.onProjectFieldEdit;return r.a.createElement(r.a.Fragment,null,a?r.a.createElement(kn,{onProjectFieldEdit:o,project:n}):r.a.createElement(Cn,{project:t}))}}]),n}(r.a.Component),xn=n(79),In=[{target:".project-container",content:"You just created your first project! Let's go through a quick walkthrough.",disableBeacon:!0,placement:"center"},{target:".project-toggles",content:"You can click these buttons to edit or delete your project. Be warned, you cannot retrieve deleted projects!",placement:"right-start"},{target:".project-directions",content:"The directions section is very important. It is only shown to members of your project, and should include links to guides, GitHub repositories, and other resources.",disableBeacon:!0,placement:"bottom"},{target:".project-chat-channel",content:"The chat channel is only shown to project members, and should be a link to a communication tool like Discord or Slack.",disableBeacon:!0,placement:"bottom"},{target:".manage-members",content:"This tab is where you can manage project members. You can invite members, accept join requests, and kick members out if needed.",disableBeacon:!0,placement:"right-start"},{target:".project-container",content:"That's it! You are all set to begin working on your project. Good luck \ud83d\ude00",disableBeacon:!0,placement:"center"}];function Pn(){return r.a.createElement(xn.a,{steps:In,continuous:!0,hideBackButton:!0,scrollToFirstStep:!0,showProgress:!0,styles:{options:{primaryColor:"#343a40"},tooltip:{fontSize:"18px"},tooltipContent:{padding:"30px 5px 0px 5px"}}})}var Sn=[{target:".project-container",content:"You just joined your first project! Let's go through a quick walkthrough.",disableBeacon:!0,placement:"center"},{target:".project-directions",content:"The owner will list links to guides, GitHub repositories, and other resources here. As a new member, it is important that you read this section.",disableBeacon:!0,placement:"bottom"},{target:".project-chat-channel",content:"The chat channel is a platform like Discord or Slack used to collaborate with teammates. Don't be shy to drop in and introduce yourself!",disableBeacon:!0,placement:"bottom"},{target:".leave-project-button",content:"This button is here in case you want to leave a project. Hopefully you'll never have to use it...",disableBeacon:!0,placement:"bottom"},{target:".project-container",content:"You are all set to begin working on the project! Good luck \ud83d\ude00",disableBeacon:!0,placement:"center"}];function Nn(){return r.a.createElement(xn.a,{steps:Sn,continuous:!0,hideBackButton:!0,scrollToFirstStep:!0,showProgress:!0,styles:{options:{primaryColor:"#343a40"},tooltip:{fontSize:"18px"},tooltipContent:{padding:"30px 5px 0px 5px"}}})}var Tn=n(341),Mn=n(342),$n=n(343),Ln=n(344),Bn=n(345),Fn=n(346),qn=(n(303),"project");function An(e){var t=e.url,n=e.type===qn?"Check out this exciting project on Quaranteam!":"";return r.a.createElement("div",{className:"share-buttons"},r.a.createElement("span",null,"Share with"),r.a.createElement(Tn.a,{summary:n,url:t},r.a.createElement(Mn.a,{size:40,round:!0})),r.a.createElement($n.a,{title:n,url:t},r.a.createElement(Ln.a,{size:40,round:!0})),r.a.createElement(Bn.a,{quote:n,url:t},r.a.createElement(Fn.a,{size:40,round:!0})))}function Un(e){return"true"===e||!1}var Dn={hasShownProfileNux:function(){return Un(localStorage.getItem("hasShownProfileNux"))},hasShownOwnerProjectNux:function(){return Un(localStorage.getItem("hasShownOwnerProjectNux"))},hasShownMemberProjectNux:function(){return Un(localStorage.getItem("hasShownMemberProjectNux"))},setProfileNuxShown:function(){localStorage.setItem("hasShownProfileNux","true")},setOwnerProjectNuxShown:function(){localStorage.setItem("hasShownOwnerProjectNux","true")},setMemberProjectNuxShown:function(){localStorage.setItem("hasShownMemberProjectNux","true")}},Rn=n(64),Vn=function(e){Object(f.a)(n,e);var t=Object(h.a)(n);function n(e){var a;return Object(p.a)(this,n),(a=t.call(this,e)).accept=a.accept.bind(Object(w.a)(a)),a.decline=a.decline.bind(Object(w.a)(a)),a}return Object(m.a)(n,[{key:"accept",value:function(){var e=Object(d.a)(u.a.mark((function e(t,n){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,an.accept(t,n);case 3:window.location.reload(),e.next=9;break;case 6:e.prev=6,e.t0=e.catch(0),console.log(e.t0);case 9:case"end":return e.stop()}}),e,null,[[0,6]])})));return function(t,n){return e.apply(this,arguments)}}()},{key:"decline",value:function(){var e=Object(d.a)(u.a.mark((function e(t){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,an.decline(t);case 3:window.location.reload(),e.next=9;break;case 6:e.prev=6,e.t0=e.catch(0),console.log(e.t0);case 9:case"end":return e.stop()}}),e,null,[[0,6]])})));return function(t){return e.apply(this,arguments)}}()},{key:"kick",value:function(){var e=Object(d.a)(u.a.mark((function e(t,n){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,an.leaveProject(t,n);case 3:window.location.reload(),e.next=9;break;case 6:e.prev=6,e.t0=e.catch(0),console.log(e.t0);case 9:case"end":return e.stop()}}),e,null,[[0,6]])})));return function(t,n){return e.apply(this,arguments)}}()},{key:"renderMembers",value:function(){var e=this,t=this.props.project,n=t.members.nodes;return 0===n.length?r.a.createElement(r.a.Fragment,null,r.a.createElement("h4",null,"Members"),r.a.createElement("span",{className:"message"},"The project does not have any members."),r.a.createElement("br",null)):r.a.createElement(r.a.Fragment,null,r.a.createElement("h4",null,"Members"),r.a.createElement(Rn.a,null,n.map((function(n){return r.a.createElement(Rn.a.Item,{key:n.requestId,className:"request-list-item"},r.a.createElement("a",{href:"/#/profile/".concat(n.username)},n.username),r.a.createElement(ge.a,{className:"request-actions"},r.a.createElement(qt,{message:"Are you sure you want to kick this user from the project?",onConfirm:function(){return e.kick(n.id,t.id)}},r.a.createElement(P.a,{variant:"danger",size:"sm"},"Kick"))))}))))}},{key:"renderPendingMembers",value:function(){var e=this,t=this.props.project;if(t.selfJoinable)return null;var n=t.pendingMembers.nodes.filter((function(e){return"pending"===e.requestStatus&&"request"===e.requestType}));return 0===n.length?r.a.createElement(r.a.Fragment,null,r.a.createElement("hr",null),r.a.createElement("h4",null,"Pending Members"),r.a.createElement("span",{className:"message"},"Nobody is requesting to join the project.")):r.a.createElement(r.a.Fragment,null,r.a.createElement("hr",null),r.a.createElement("h4",null,"Pending Members"),r.a.createElement(Rn.a,null,n.map((function(n){return r.a.createElement(Rn.a.Item,{key:n.requestId,className:"request-list-item"},r.a.createElement("a",{href:"/#/profile/".concat(n.username)},n.username),r.a.createElement(ge.a,{className:"request-actions",size:"sm"},r.a.createElement(P.a,{variant:"success",onClick:function(){return e.accept(n.id,t.id)}},"Accept"),r.a.createElement(P.a,{variant:"danger",onClick:function(){return e.decline(n.requestId)}},"Decline")))}))))}},{key:"render",value:function(){return r.a.createElement(r.a.Fragment,null,this.renderMembers(),this.renderPendingMembers())}}]),n}(r.a.Component),Hn={OVERVIEW:"overview",MANAGE:"manage"},zn=function(e){Object(f.a)(n,e);var t=Object(h.a)(n);function n(e){var a;return Object(p.a)(this,n),(a=t.call(this,e)).state={tab:Hn.OVERVIEW,finishedLoading:!1,project:null,editableProject:null,isEditable:!1,showInviteModal:!1,runOwnerNux:!1,runMemberNux:!1},a.joinProject=a.joinProject.bind(Object(w.a)(a)),a.leaveProject=a.leaveProject.bind(Object(w.a)(a)),a.toggleEditable=a.toggleEditable.bind(Object(w.a)(a)),a.onProjectFieldEdit=a.onProjectFieldEdit.bind(Object(w.a)(a)),a.saveProject=a.saveProject.bind(Object(w.a)(a)),a.deleteProject=a.deleteProject.bind(Object(w.a)(a)),a.inviteMember=a.inviteMember.bind(Object(w.a)(a)),a.changeTab=a.changeTab.bind(Object(w.a)(a)),a}return Object(m.a)(n,[{key:"componentDidMount",value:function(){var e=Object(d.a)(u.a.mark((function e(){var t,n,a;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=this.props.match.params,n=Number(t.id)){e.next=5;break}return this.setState({finishedLoading:!0}),e.abrupt("return");case 5:return e.prev=5,e.next=8,Ye.getProject(n);case 8:a=e.sent,this.setState({project:a,editableProject:Object(xe.a)({},a),finishedLoading:!0}),this.triggerNux(),this.setTabFromURL(),e.next=18;break;case 14:e.prev=14,e.t0=e.catch(5),this.setState({finishedLoading:!0}),console.log(e.t0);case 18:case"end":return e.stop()}}),e,this,[[5,14]])})));return function(){return e.apply(this,arguments)}}()},{key:"triggerNux",value:function(){var e=this.state,t=e.project,n=e.runOwnerNux,a=e.runMemberNux;if(Z.isLoggedIn()&&t&&!n&&!a){var r=t.ownerId===Z.getToken().sub,o=t.members.nodes.map((function(e){return e.username})).includes(Z.getToken().username);!Dn.hasShownOwnerProjectNux()&&r?(this.changeTab(Hn.OVERVIEW),Dn.setOwnerProjectNuxShown(),this.setState({runOwnerNux:!0})):!Dn.hasShownMemberProjectNux()&&o&&(this.changeTab(Hn.OVERVIEW),Dn.setMemberProjectNuxShown(),this.setState({runMemberNux:!0}))}}},{key:"componentDidUpdate",value:function(){this.setTabFromURL()}},{key:"setTabFromURL",value:function(){var e=this.state,t=e.project,n=e.tab;Z.isLoggedIn()&&Z.getToken().sub===t.ownerId||n===Hn.OVERVIEW||this.changeTab(Hn.OVERVIEW);var a=F.getQueryParams().get("tab")||Hn.OVERVIEW;a!==n&&this.changeTab(a)}},{key:"changeTab",value:function(e){this.setState({tab:e});var t=F.getQueryParams();t.set("tab",e),F.updateQueryParams(t)}},{key:"toggleEditable",value:function(){this.setState((function(e){return{isEditable:!e.isEditable}}))}},{key:"onProjectFieldEdit",value:function(e,t){var n=this.state.editableProject;n[e]=t,this.setState({editableProject:n})}},{key:"saveProject",value:function(){var e=Object(d.a)(u.a.mark((function e(){var t;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=this.state.editableProject,e.prev=1,e.next=4,Ye.updateProject(t);case 4:this.setState({project:Object(xe.a)({},t)}),this.toggleEditable(),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(1),console.log(e.t0);case 11:case"end":return e.stop()}}),e,this,[[1,8]])})));return function(){return e.apply(this,arguments)}}()},{key:"deleteProject",value:function(){var e=Object(d.a)(u.a.mark((function e(){var t;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=this.state.project,e.prev=1,e.next=4,Ye.deleteProject(t.id);case 4:F.navigate("/#/projects"),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(1),console.log(e.t0);case 10:case"end":return e.stop()}}),e,this,[[1,7]])})));return function(){return e.apply(this,arguments)}}()},{key:"inviteMember",value:function(){var e=Object(d.a)(u.a.mark((function e(t){var n,a;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=this.state.project,a=this.props.showAlert,this.setState({showInviteModal:!1}),e.prev=3,e.next=6,an.inviteToProject(t,n.id);case 6:a("You have invited the user to your project.","success"),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(3),a("You have already invited this user.","warning");case 12:case"end":return e.stop()}}),e,this,[[3,9]])})));return function(t){return e.apply(this,arguments)}}()},{key:"joinProject",value:function(){var e=Object(d.a)(u.a.mark((function e(){var t,n;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=this.state.project,n=Z.getToken().sub,e.prev=2,!t.selfJoinable){e.next=8;break}return e.next=6,an.joinProject(n,t.id);case 6:e.next=10;break;case 8:return e.next=10,an.requestToJoinProject(n,t.id);case 10:window.location.reload(),e.next=16;break;case 13:e.prev=13,e.t0=e.catch(2),console.log(e.t0);case 16:case"end":return e.stop()}}),e,this,[[2,13]])})));return function(){return e.apply(this,arguments)}}()},{key:"leaveProject",value:function(){var e=Object(d.a)(u.a.mark((function e(){var t,n;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=this.state.project,n=Z.getToken().sub,e.prev=2,e.next=5,an.leaveProject(n,t.id);case 5:F.navigate("/#/projects"),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(2),console.log(e.t0);case 11:case"end":return e.stop()}}),e,this,[[2,8]])})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this,t=this.state,n=t.tab,a=t.project,o=t.finishedLoading,c=t.isEditable,l=t.editableProject,i=t.showInviteModal,s=t.runOwnerNux,u=t.runMemberNux;if(!a)return r.a.createElement(r.a.Fragment,null,r.a.createElement(v.a,null,r.a.createElement("title",null,"Project")),o?r.a.createElement("h5",null,"Project not found."):r.a.createElement(Nt,null));var d=l&&""!==l.name.trim();return r.a.createElement(r.a.Fragment,null,r.a.createElement(v.a,null,r.a.createElement("title",null,a.name)),s&&r.a.createElement(Pn,null),u&&r.a.createElement(Nn,null),r.a.createElement(rn,{show:i,onConfirm:this.inviteMember,onClose:function(){return e.setState({showInviteModal:!1})}}),r.a.createElement(vt.a,{className:"project-container",bg:"secondary",border:"secondary"},r.a.createElement(At,{project:a,isEditable:c,isEditValid:d,tab:n,onInvite:function(){return e.setState({showInviteModal:!0})},onJoin:this.joinProject,onLeave:this.leaveProject,onSave:this.saveProject,onDelete:this.deleteProject,onToggleEditable:this.toggleEditable,onTabChange:this.changeTab}),r.a.createElement(vt.a.Body,null,n===Hn.OVERVIEW&&r.a.createElement(On,{project:a,editableProject:l,isEditable:c,onProjectFieldEdit:this.onProjectFieldEdit}),n===Hn.MANAGE&&r.a.createElement(Vn,{project:a}))),r.a.createElement(An,{url:window.location.href,type:qn}))}}]),n}(a.Component),_n=me(Object(i.f)(zn),"project-page"),Jn=n(84),Gn={label:"None",value:null},Qn={title:"",description:"",assigneeOption:Gn},Wn=function(e){Object(f.a)(n,e);var t=Object(h.a)(n);function n(e){var a;return Object(p.a)(this,n),(a=t.call(this,e)).convertToOption=function(e){return{label:e.username,value:e.id}},a.onChangeCard=function(e,t){var n=a.state.card;n[e]=t,a.setState({card:n})},a.onSubmit=function(){var e=a.state.card,t=a.props.project;e.projectId=t.id,e.assigneeId=e.assigneeOption.value,a.props.onSubmit(e)},a.getProfileOptions=function(){var e=a.props.project;return e?[Gn].concat(e.members.nodes.map(a.convertToOption)):[Gn]},a.state={card:Object(xe.a)({},Qn)},a}return Object(m.a)(n,[{key:"componentDidUpdate",value:function(e){var t=this.props,n=t.show,a=t.cardToUpdate;if(!e.show&&n){if(!a)return this.setState({card:Object(xe.a)({},Qn)});var r=a.profileByAssigneeId;a=Object(xe.a)({},a,{assigneeOption:r?{label:r.username,value:r.id}:Gn}),this.setState({card:a})}}},{key:"render",value:function(){var e=this,t=this.props,n=t.show,a=t.cardToUpdate,o=t.onClose,c=this.state.card,l=!c.title||!c.description,i=!!a,s=this.getProfileOptions();return r.a.createElement(le.a,{className:"board-card-modal",show:n,onHide:o,size:"md",centered:!0},r.a.createElement(le.a.Header,{closeButton:!0},r.a.createElement(le.a.Title,null,i?"Update":"Create"," a card")),r.a.createElement(le.a.Body,null,r.a.createElement(ce.a.Control,{placeholder:"Title",value:c.title,onChange:function(t){return e.onChangeCard("title",t.target.value)}}),r.a.createElement(ce.a.Control,{placeholder:"Description",as:"textarea",rows:"3",value:c.description,onChange:function(t){return e.onChangeCard("description",t.target.value)}}),r.a.createElement("p",{className:"assignee-text"},"Assign the card to:"),r.a.createElement(Ct.a,{className:"modal-select assignee-select",variant:"dark",placeholder:"None",options:s,value:c.assigneeOption,onChange:function(t){return e.onChangeCard("assigneeOption",t)}})),r.a.createElement(le.a.Footer,null,r.a.createElement(P.a,{variant:"dark",onClick:o},"Close"),r.a.createElement(P.a,{variant:"dark",onClick:this.onSubmit,disabled:l},i?"Update":"Create")))}}]),n}(r.a.Component),Yn=r.a.forwardRef((function(e,t){var n=e.children,a=e.onClick;return r.a.createElement("a",{ref:t,className:"card-options-toggle",onClick:function(e){e.preventDefault(),a(e)}},"...",n)}));function Kn(e){var t=e.card,n=e.cardIndex,a=e.onEditClick,o=e.onDeleteClick,c=r.a.createElement(I.a,{className:"card-options"},r.a.createElement(I.a.Toggle,{as:Yn}),r.a.createElement(I.a.Menu,{size:"sm"},r.a.createElement(I.a.Item,{onClick:function(){return a(t)}},r.a.createElement(S.d,null)," Edit"),r.a.createElement(qt,{message:"Are you sure you want to delete this card?",onConfirm:function(){return o(t)}},r.a.createElement(I.a.Item,null,r.a.createElement(S.k,null)," Delete")))),l=r.a.createElement(vt.a,{className:"board-card",bg:"secondary"},r.a.createElement(vt.a.Body,null,c,r.a.createElement("h5",null,t.title),r.a.createElement(vt.a.Text,{className:"card-description"},t.description),t.profileByAssigneeId&&r.a.createElement(r.a.Fragment,null,r.a.createElement("hr",null),r.a.createElement(vt.a.Text,{className:"card-assignee"},"Assigned to",r.a.createElement("a",{href:"/#/profile/".concat(t.profileByAssigneeId.username),target:"_blank",style:{color:"inherit",textDecoration:"inherit"}},r.a.createElement("b",null," "+t.profileByAssigneeId.username))))));return r.a.createElement(Jn.b,{key:t.id,draggableId:t.id+"",index:n},(function(e,t){return r.a.createElement("div",Object.assign({ref:e.innerRef},e.draggableProps,e.dragHandleProps),l)}))}function Xn(e){var t=e.title,n=e.draggableId,a=e.cards,o=e.onCreateClick,c=e.onCardEditClick,l=e.onCardDeleteClick;return r.a.createElement("div",{className:"board-column"},r.a.createElement("h3",{className:"column-header"},t,r.a.createElement(P.a,{className:"add-card-button",variant:"outline-light",onClick:o},r.a.createElement(S.h,null))),r.a.createElement(Jn.c,{droppableId:n},(function(e,t){return r.a.createElement("div",Object.assign({ref:e.innerRef},e.droppableProps),0===a.length&&r.a.createElement("h6",null,"There are no cards here yet."),a.map((function(e,t){return r.a.createElement(Kn,{key:t,cardIndex:t,card:e,onEditClick:c,onDeleteClick:l})})),e.placeholder)})))}function Zn(){var e=Object(N.a)(["\n  mutation ($boardCardId: Int!) {\n    deleteBoardCardById(input: {id: $boardCardId}) {\n      clientMutationId\n    }\n  }\n"]);return Zn=function(){return e},e}function ea(){var e=Object(N.a)(["\n  mutation (\n    $id: Int!\n    $title: String!\n    $description: String!\n    $assigneeId: Int\n  ) {\n    updateBoardCardById(input: {\n      id: $id\n      boardCardPatch: {\n        title: $title\n        description: $description\n        assigneeId: $assigneeId\n      }}) {\n      clientMutationId\n      boardCard {\n        id description title\n        projectId assigneeId\n        cardIndex columnIndex\n        createdAt updatedAt\n        profileByAssigneeId {\n          id username\n        }\n      }\n    }\n  }\n"]);return ea=function(){return e},e}function ta(){var e=Object(N.a)(["\n  mutation (\n    $boardCardId: Int!\n    $columnIndex: Int!\n    $cardIndex: Int!\n  ) {\n    updateBoardCardById(input: {\n      boardCardPatch: {\n        columnIndex: $columnIndex\n        cardIndex: $cardIndex\n      }\n      id: $boardCardId\n    }) {\n      clientMutationId\n    }\n  }\n"]);return ta=function(){return e},e}function na(){var e=Object(N.a)(["\n  mutation(\n    $projectId: Int!\n    $title: String!\n    $description: String!\n    $assigneeId: Int\n    $columnIndex: Int!\n    $cardIndex: Int!\n  ) {\n    createBoardCard(input: {\n      boardCard: {\n        projectId: $projectId\n        title: $title\n        description: $description\n        assigneeId: $assigneeId\n        columnIndex: $columnIndex\n        cardIndex: $cardIndex\n      }\n    }) {\n      clientMutationId\n      boardCard {\n        id description title\n        projectId assigneeId\n        cardIndex columnIndex\n        createdAt updatedAt\n        profileByAssigneeId {\n          id username\n        }\n      }\n    }\n  }\n"]);return na=function(){return e},e}function aa(){var e=Object(N.a)(["\n  query ($projectId: Int!) {\n    allBoardCards(\n      condition: { projectId: $projectId }\n      orderBy: CARD_INDEX_ASC\n    ) {\n      edges {\n        node {\n          id title description\n          columnIndex cardIndex\n          createdAt updatedAt\n          profileByAssigneeId {\n            id username\n          }\n        }\n      }\n    }\n  }\n"]);return aa=function(){return e},e}var ra=M()(aa()),oa=M()(na()),ca=M()(ta()),la=M()(ea()),ia=M()(Zn());function sa(){return(sa=Object(d.a)(u.a.mark((function e(t){var n;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,z.query({query:ra,variables:{projectId:t}});case 2:return n=e.sent,e.abrupt("return",n.data.allBoardCards.edges.map((function(e){return e.node})));case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function ua(){return(ua=Object(d.a)(u.a.mark((function e(t){var n;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,z.mutate({mutation:oa,variables:t});case 2:return n=e.sent,e.abrupt("return",n.data.createBoardCard.boardCard);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function da(){return(da=Object(d.a)(u.a.mark((function e(t,n,a){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,z.mutate({mutation:ca,variables:{boardCardId:t,columnIndex:n,cardIndex:a}});case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function pa(){return(pa=Object(d.a)(u.a.mark((function e(t){var n;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,z.mutate({mutation:la,variables:t});case 2:return n=e.sent,e.abrupt("return",n.data.updateBoardCardById.boardCard);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function ma(){return(ma=Object(d.a)(u.a.mark((function e(t){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,z.mutate({mutation:ia,variables:{boardCardId:t}});case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var ha={getCards:function(e){return sa.apply(this,arguments)},createCard:function(e){return ua.apply(this,arguments)},moveCard:function(e,t,n){return da.apply(this,arguments)},updateCard:function(e){return pa.apply(this,arguments)},deleteCard:function(e){return ma.apply(this,arguments)}},fa=(n(307),["\ud83d\udcdd To Do","\ud83d\udea7 In Progress","\u2705 Completed"]),va=function(e){Object(f.a)(n,e);var t=Object(h.a)(n);function n(e){var a;return Object(p.a)(this,n),(a=t.call(this,e)).onCardDragEnd=function(){var e=Object(d.a)(u.a.mark((function e(t){var n,r;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t.source,r=t.destination){e.next=3;break}return e.abrupt("return");case 3:return n.droppableId===r.droppableId?a.moveCardInColumn(Number(r.droppableId),n.index,r.index):a.moveCardAcrossColumns(Number(n.droppableId),Number(r.droppableId),n.index,r.index),e.next=6,ha.moveCard(Number(t.draggableId),Number(r.droppableId),r.index);case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),a.moveCardInColumn=function(e,t,n){var r=a.state.board,o=r[e],c=o.splice(t,1),l=Object(bt.a)(c,1)[0];o.splice(n,0,l),a.setState({board:r})},a.moveCardAcrossColumns=function(e,t,n,r){var o=a.state.board,c=o[e],l=o[t],i=c.splice(n,1),s=Object(bt.a)(i,1)[0];l.splice(r,0,s),a.setState({board:o})},a.showCreateCardModal=function(e){a.setState({showCardModal:!0,selectedCard:null,selectedColumnIndex:e})},a.showUpdateCardModal=function(e){a.setState({showCardModal:!0,selectedCard:e})},a.handleModalSubmit=function(){var e=Object(d.a)(u.a.mark((function e(t){var n;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=a.state.selectedCard,a.setState({showCardModal:!1}),!n){e.next=7;break}return e.next=5,a.updateCard(t);case 5:e.next=9;break;case 7:return e.next=9,a.createCard(t);case 9:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),a.createCard=function(){var e=Object(d.a)(u.a.mark((function e(t){var n,r,o;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=a.state,r=n.board,o=n.selectedColumnIndex,a.setState({showCardModal:!1}),t.columnIndex=o,t.cardIndex=0,e.prev=4,e.next=7,ha.createCard(t);case 7:t=e.sent,r[o].splice(0,0,t),a.setState({board:r}),e.next=15;break;case 12:e.prev=12,e.t0=e.catch(4),console.log(e.t0);case 15:case"end":return e.stop()}}),e,null,[[4,12]])})));return function(t){return e.apply(this,arguments)}}(),a.updateCard=function(){var e=Object(d.a)(u.a.mark((function e(t){var n;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=a.state.board,e.prev=1,e.next=4,ha.updateCard(t);case 4:t=e.sent,n[t.columnIndex][t.cardIndex]=t,a.setState({board:n}),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(1),console.log(e.t0);case 12:case"end":return e.stop()}}),e,null,[[1,9]])})));return function(t){return e.apply(this,arguments)}}(),a.deleteCard=function(){var e=Object(d.a)(u.a.mark((function e(t){var n;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=a.state.board,e.prev=1,e.next=4,ha.deleteCard(t.id);case 4:n[t.columnIndex].splice(t.cardIndex,1),a.setState({board:n}),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(1),console.log(e.t0);case 11:case"end":return e.stop()}}),e,null,[[1,8]])})));return function(t){return e.apply(this,arguments)}}(),a.state={board:[],project:null,showCardModal:!1,selectedCard:null,selectedColumnIndex:0,finishedLoading:!1},a}return Object(m.a)(n,[{key:"componentDidMount",value:function(){var e=Object(d.a)(u.a.mark((function e(){var t,n,a,r;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=this.props.match.params,n=Number(t.id),e.prev=2,a=[[],[],[]],e.next=6,Ye.getProject(n);case 6:return r=e.sent,e.next=9,ha.getCards(n);case 9:e.sent.map((function(e){a[e.columnIndex].push(e)})),this.setState({board:a,project:r,finishedLoading:!0}),e.next=17;break;case 14:e.prev=14,e.t0=e.catch(2),console.log(e.t0);case 17:case"end":return e.stop()}}),e,this,[[2,14]])})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this,t=this.state,n=t.board,a=t.project,o=t.selectedCard,c=t.showCardModal;return t.finishedLoading?r.a.createElement(r.a.Fragment,null,r.a.createElement(Wn,{show:c,project:a,cardToUpdate:o,onSubmit:this.handleModalSubmit,onClose:function(){return e.setState({showCardModal:!1})}}),r.a.createElement(he,{className:"board-page"},r.a.createElement(Jn.a,{onDragEnd:this.onCardDragEnd},n.map((function(t,n){return r.a.createElement(Xn,{key:n,title:fa[n],draggableId:""+n,cards:t,onCreateClick:function(){return e.showCreateCardModal(n)},onCardEditClick:function(t){return e.showUpdateCardModal(t)},onCardDeleteClick:function(t){return e.deleteCard(t)}})}))))):r.a.createElement(he,{className:"board-page"},r.a.createElement(Nt,null))}}]),n}(r.a.Component),ba=Object(i.f)(va),ga=[{label:"Has Bio",value:["BIO_ASC"]},{label:"Username",value:["USERNAME_ASC"]},{label:"Experience Level",value:["LEVEL_ASC"]}];function Ea(e){var t=e.onChange;return r.a.createElement(xt,{options:ga,onChange:function(e){return t(e)}})}var ja=n(118),ya=n(83),wa=n.n(ya),ka="Apparently, this user prefers to keep an air of mystery about them.";function Ca(e){var t=e.profile;return r.a.createElement(r.a.Fragment,null,r.a.createElement("h4",null,r.a.createElement("span",null,"\ud83d\udc69\u200d\ud83d\udd2c")," Bio"),r.a.createElement(vt.a.Text,null,t.bio||ka),r.a.createElement("hr",null),t.level&&r.a.createElement(r.a.Fragment,null,r.a.createElement("h4",null,r.a.createElement("span",null,"\ud83d\udcda")," Experience Level"),t.level&&r.a.createElement("div",{className:"profile-badges"},r.a.createElement(wt.a,{pill:!0,variant:Et.getLevel(t.level).variant},Et.getLevel(t.level).label),r.a.createElement("br",null)),r.a.createElement("hr",null)),r.a.createElement("h4",null,r.a.createElement("span",null,"\ud83e\uddea")," Interests"),r.a.createElement("div",{className:"profile-badges"},t.interests.map((function(e){return r.a.createElement(wt.a,{pill:!0,key:e,variant:"dark"},e)}))),r.a.createElement("hr",null),r.a.createElement("h4",null,r.a.createElement("span",null,"\ud83e\uddf0")," Skills"),r.a.createElement("div",{className:"profile-badges"},t.languages.map((function(e){return r.a.createElement(wt.a,{pill:!0,key:e,variant:"dark"},e)}))))}function Oa(e){var t=e.profile,n=t.interests.length>5,a=t.languages.length>5;return r.a.createElement(vt.a,{className:"search-card",bg:"secondary"},r.a.createElement("a",{href:"/#/profile/".concat(t.username),style:{color:"inherit",textDecoration:"inherit"}},r.a.createElement(vt.a.Body,null,r.a.createElement(vt.a.Header,{className:"card-header"},r.a.createElement("span",null,r.a.createElement(ja.a,{src:t.pictureUrl||wa.a,roundedCircle:!0}),t.username," "),t.level&&r.a.createElement(r.a.Fragment,null,r.a.createElement(wt.a,{className:"level-badge",variant:Et.getLevel(t.level).variant,pill:!0},Et.getLevel(t.level).label),r.a.createElement("br",null))),r.a.createElement(vt.a.Text,null,t.bio||ka)),r.a.createElement(vt.a.Footer,null,0===t.interests.length&&0===t.languages.length&&r.a.createElement(r.a.Fragment,null,"No interests or skills"),t.interests.length>0&&r.a.createElement(r.a.Fragment,null,r.a.createElement("b",null,"Interests: "),t.interests.slice(0,5).map((function(e){return r.a.createElement(wt.a,{pill:!0,key:e,variant:"dark"},e)})),n&&r.a.createElement(r.a.Fragment,null,"\xa0..."),r.a.createElement("br",null)),t.languages.length>0&&r.a.createElement(r.a.Fragment,null,r.a.createElement("b",null,"Skills: "),t.languages.slice(0,5).map((function(e){return r.a.createElement(wt.a,{pill:!0,key:e,variant:"dark"},e)})),a&&r.a.createElement(r.a.Fragment,null,"\xa0..."),r.a.createElement("br",null)))))}n(308);var xa=function(e){Object(f.a)(n,e);var t=Object(h.a)(n);function n(e){var a;return Object(p.a)(this,n),(a=t.call(this,e)).state={profiles:[],displayedProfiles:[],search:"",orderBy:["BIO_ASC"],finishedLoading:!1},a.retrieveProfiles=Object(Mt.a)(200,a.retrieveProfiles.bind(Object(w.a)(a))),a.fetchMoreProfiles=a.fetchMoreProfiles.bind(Object(w.a)(a)),a.renderHeader=a.renderHeader.bind(Object(w.a)(a)),a.renderProfiles=a.renderProfiles.bind(Object(w.a)(a)),a}return Object(m.a)(n,[{key:"componentDidMount",value:function(){var e=Object(d.a)(u.a.mark((function e(){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.retrieveProfiles();case 1:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"retrieveProfiles",value:function(){var e=Object(d.a)(u.a.mark((function e(){var t,n,a,r;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=this.state,n=t.search,a=t.orderBy,this.setState({finishedLoading:!1}),e.prev=2,e.next=5,dt.getProfiles(n,a);case 5:r=e.sent,this.setState({profiles:r,displayedProfiles:r.slice(0,9)}),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(2),console.log(e.t0);case 12:this.setState({finishedLoading:!0});case 13:case"end":return e.stop()}}),e,this,[[2,9]])})));return function(){return e.apply(this,arguments)}}()},{key:"fetchMoreProfiles",value:function(){var e=this.state,t=e.profiles,n=e.displayedProfiles,a=t.slice(n.length,n.length+9);this.setState({displayedProfiles:n.concat(a)})}},{key:"renderHeader",value:function(){var e=this,t=this.state.search;return r.a.createElement(r.a.Fragment,null,r.a.createElement("h1",null,r.a.createElement("span",null,"\ud83d\udc69\u200d\ud83d\udd2c")," People"),r.a.createElement("p",null,"Find team members for your next project!"),r.a.createElement(j.a,{className:"justify-content-md-center search-header"},r.a.createElement(y.a,{xs:{span:12},md:{span:4},lg:{span:3}},r.a.createElement(Tt.a,{type:"text",size:"lg",className:"search",placeholder:"Search by username, skills, etc...",value:t,onChange:function(){var t=Object(d.a)(u.a.mark((function t(n){return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e.setState({search:n.target.value}),t.next=3,e.retrieveProfiles();case 3:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()})),r.a.createElement(y.a,{xs:{span:12},md:{span:3},lg:{span:2}},r.a.createElement(Ea,{onChange:function(){var t=Object(d.a)(u.a.mark((function t(n){return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e.setState({orderBy:n}),t.next=3,e.retrieveProfiles();case 3:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()}))))}},{key:"sortProfiles",value:function(){var e=Object(d.a)(u.a.mark((function e(t){var n;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.setState({finishedLoading:!1}),e.next=3,dt.getProfiles(t);case 3:n=e.sent,this.setState({profiles:n,displayedProfiles:n.slice(0,9),finishedLoading:!0});case 5:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"renderProfiles",value:function(){var e=this.state,t=e.profiles,n=e.displayedProfiles,a=e.finishedLoading,o=t.length>n.length;return a?0===t.length?r.a.createElement("h4",null,"No profiles match the search."):r.a.createElement(mt.a,{className:"row",dataLength:n.length,next:this.fetchMoreProfiles,hasMore:o,loader:r.a.createElement("span",{className:"infinite-load-text"},"Loading...")},n.map((function(e){return r.a.createElement(y.a,{md:"4",key:e.id},r.a.createElement(Oa,{profile:e}))}))):r.a.createElement(Nt,null)}},{key:"render",value:function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement(v.a,null,r.a.createElement("title",null,"People")),r.a.createElement(he,{className:"people-page"},r.a.createElement(E.a,{fluid:!0},this.renderHeader(),this.renderProfiles()),r.a.createElement(ft.a,{showUnder:260},r.a.createElement("h2",null,r.a.createElement(S.a,{title:"Scroll to top"})))))}}]),n}(a.Component),Ia=n(121),Pa=function(e){Object(f.a)(n,e);var t=Object(h.a)(n);function n(e){return Object(p.a)(this,n),t.call(this,e)}return Object(m.a)(n,[{key:"renderNav",value:function(e){var t=this.props,n=t.onTabChange,a=t.tab,o=Z.isLoggedIn()&&Z.getToken().username===e.username;return r.a.createElement(r.a.Fragment,null,r.a.createElement(O.a,{fill:!0,variant:"pills",activeKey:a},r.a.createElement(O.a.Item,{className:"profile-overview-nav",onClick:function(){return n(Ga.OVERVIEW)}},r.a.createElement(O.a.Link,{eventKey:"overview"},"Overview")),r.a.createElement(O.a.Item,{className:"profile-projects-nav",onClick:function(){return n(Ga.PROJECTS)}},r.a.createElement(O.a.Link,{eventKey:"projects"},"Projects")),o&&r.a.createElement(O.a.Item,{className:"profile-inbox-nav",onClick:function(){return n(Ga.INBOX)}},r.a.createElement(O.a.Link,{eventKey:"inbox"},"Inbox"))),r.a.createElement("hr",null))}},{key:"renderPicture",value:function(e){var t=this.props,n=t.isEditable,a=t.onUpdatePicture;return r.a.createElement(y.a,{lg:{span:3,offset:3},xs:{span:6,offset:3}},r.a.createElement(Ia.a,null,r.a.createElement(Ia.a.Image,{src:e.pictureUrl||wa.a,roundedCircle:!0}),n&&r.a.createElement(Ia.a.Caption,{onClick:a},r.a.createElement(S.b,null)," Update picture")))}},{key:"renderHeaderRight",value:function(e){var t=this.props,n=t.isEditable,a=t.onToggleEditable,o=t.onInvite,c=t.onSaveProfile,l=t.tab,i=Z.isLoggedIn()&&Z.getToken().username===e.username,s=l===Ga.OVERVIEW&&i;return r.a.createElement(r.a.Fragment,null,r.a.createElement("h2",{className:"username-title"},r.a.createElement("b",null,e.username,s&&n&&r.a.createElement(r.a.Fragment,null,r.a.createElement(S.c,{title:"Save Changes",onClick:c}),r.a.createElement(S.j,{title:"Revert Changes",onClick:a})),s&&!n&&r.a.createElement(S.n,{className:"edit-toggle",title:"Edit Profile",onClick:a}))),Z.isLoggedIn()&&!i&&r.a.createElement(P.a,{size:"sm",variant:"dark",onClick:o},"Invite to Project"))}},{key:"render",value:function(){var e=this.props.profile;return r.a.createElement(vt.a.Header,{className:"profile-header"},this.renderNav(e),r.a.createElement(j.a,null,this.renderPicture(e),r.a.createElement(y.a,{className:"profile-header-right",xs:{span:!1}},this.renderHeaderRight(e))))}}]),n}(r.a.Component);function Sa(e){return Object(xe.a)({},e,{colors:Object(xe.a)({},e.colors,{primary25:"gray",primary:"#64485C",backgroundColor:"transparent"})})}var Na=function(e){Object(f.a)(n,e);var t=Object(h.a)(n);function n(e){var a;return Object(p.a)(this,n),(a=t.call(this,e)).onChange=a.onChange.bind(Object(w.a)(a)),a}return Object(m.a)(n,[{key:"onChange",value:function(e,t){this.props.onProfileFieldEdit(e,t)}},{key:"render",value:function(){var e=this,t=this.props.profile;return r.a.createElement(ce.a,null,r.a.createElement("h4",null,r.a.createElement("span",null,"\ud83d\udc69\u200d\ud83d\udd2c")," Bio"),r.a.createElement(ce.a.Control,{as:"textarea",rows:"3",value:t.bio||"",onChange:function(t){return e.onChange("bio",t.target.value)}}),r.a.createElement("hr",null),r.a.createElement("h4",null,r.a.createElement("span",null,"\ud83d\udcda")," Experience Level"),r.a.createElement(Ct.a,{theme:Sa,options:Et.getLevelOptions(),value:Et.getLevel(t.level),onChange:function(t){return e.onChange("level",t.value)}}),r.a.createElement("hr",null),r.a.createElement("h4",null,r.a.createElement("span",null,"\ud83e\uddea")," Interests"),r.a.createElement(gn,{type:"interests",value:t.interests,onChange:function(t){return e.onChange("interests",t)}}),r.a.createElement("hr",null),r.a.createElement("h4",null,r.a.createElement("span",null,"\ud83e\uddf0")," Skills"),r.a.createElement(gn,{type:"skills",value:t.languages,onChange:function(t){return e.onChange("languages",t)}}))}}]),n}(r.a.Component),Ta=function(e){Object(f.a)(n,e);var t=Object(h.a)(n);function n(e){return Object(p.a)(this,n),t.call(this,e)}return Object(m.a)(n,[{key:"render",value:function(){var e=this.props,t=e.profile,n=e.editableProfile,a=e.isEditable,o=e.onProfileFieldEdit;return r.a.createElement(r.a.Fragment,null,a?r.a.createElement(Na,{onProfileFieldEdit:o,profile:n}):r.a.createElement(Ca,{profile:t}))}}]),n}(r.a.Component),Ma=function(e){Object(f.a)(n,e);var t=Object(h.a)(n);function n(e){return Object(p.a)(this,n),t.call(this,e)}return Object(m.a)(n,[{key:"getPersonalizedText",value:function(e){var t=this.props.profile;return e?"You have":"".concat(t.username," has")}},{key:"renderProjects",value:function(e,t,n){return r.a.createElement(r.a.Fragment,null,0===e.length&&r.a.createElement(r.a.Fragment,null,r.a.createElement("span",{className:"message"},this.getPersonalizedText(n)," not ",t," any projects."),r.a.createElement("br",null)),r.a.createElement("div",{className:"profile-badges"},e.map((function(e){return r.a.createElement(wt.a,{pill:!0,key:e.id,variant:"dark"},r.a.createElement("a",{href:"/#/project/".concat(e.id)},e.name))}))))}},{key:"render",value:function(){var e=this.props.profile,t=e.ownedProjects.nodes,n=e.projects.nodes,a=Z.isLoggedIn()&&Z.getToken().username===e.username;return r.a.createElement("div",{className:"profile-projects"},r.a.createElement("h4",null,"Owned Projects"),this.renderProjects(t,"created",a),r.a.createElement("hr",null),r.a.createElement("h4",null,"Joined Projects"),this.renderProjects(n,"joined",a))}}]),n}(r.a.Component),$a={pending:{color:"dark"},accepted:{color:"success"},declined:{color:"danger"}},La=function(e){Object(f.a)(n,e);var t=Object(h.a)(n);function n(e){var a;return Object(p.a)(this,n),(a=t.call(this,e)).accept=a.accept.bind(Object(w.a)(a)),a.decline=a.decline.bind(Object(w.a)(a)),a}return Object(m.a)(n,[{key:"accept",value:function(){var e=Object(d.a)(u.a.mark((function e(t){var n;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=Z.getToken().sub,e.prev=1,e.next=4,an.accept(n,t);case 4:F.navigate("/#/project/".concat(t)),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(1),console.log(e.t0);case 10:case"end":return e.stop()}}),e,null,[[1,7]])})));return function(t){return e.apply(this,arguments)}}()},{key:"decline",value:function(){var e=Object(d.a)(u.a.mark((function e(t){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,an.decline(t);case 3:window.location.reload(),e.next=9;break;case 6:e.prev=6,e.t0=e.catch(0),console.log(e.t0);case 9:case"end":return e.stop()}}),e,null,[[0,6]])})));return function(t){return e.apply(this,arguments)}}()},{key:"renderRequests",value:function(e){var t=e.pendingProjects.nodes.filter((function(e){return"request"===e.requestType&&"pending"===e.requestStatus}));return r.a.createElement(r.a.Fragment,null,0===t.length&&r.a.createElement(r.a.Fragment,null,r.a.createElement("span",{className:"message"},"You have not requested to join any projects."),r.a.createElement("br",null)),r.a.createElement("div",{className:"profile-badges"},t.map((function(e){return r.a.createElement(wt.a,{pill:!0,key:e.id,variant:$a[e.requestStatus].color},r.a.createElement("a",{href:"/#/project/".concat(e.id)},e.name,"\xa0(",e.requestStatus,")"))}))))}},{key:"renderInvites",value:function(e){var t=this,n=e.pendingProjects.nodes.filter((function(e){return"invite"===e.requestType&&"pending"===e.requestStatus}));return r.a.createElement(r.a.Fragment,null,0===n.length&&r.a.createElement("span",{className:"message"},"You have not been invited to any projects."),r.a.createElement(Rn.a,null,n.map((function(e){return r.a.createElement(Rn.a.Item,{key:e.requestId,className:"invite-list-item"},r.a.createElement("a",{href:"/#/project/".concat(e.id)},e.name),r.a.createElement(ge.a,{className:"invite-actions",size:"sm"},r.a.createElement(P.a,{variant:"success",onClick:function(){return t.accept(e.id)}},"Accept"),r.a.createElement(P.a,{variant:"danger",onClick:function(){return t.decline(e.requestId)}},"Decline")))}))))}},{key:"render",value:function(){var e=this.props.profile;return r.a.createElement("div",{className:"profile-inbox"},r.a.createElement("h4",null,"Requests"),this.renderRequests(e),r.a.createElement("hr",null),r.a.createElement("h4",null,"Invites"),this.renderInvites(e))}}]),n}(r.a.Component),Ba=Object(i.f)(La),Fa=[{target:".profile-page",content:"Welcome to your profile! Here you can create a bio for yourself and list your interests and skills.",disableBeacon:!0,placement:"center"},{target:".edit-toggle",content:"You can click this button to edit your profile, including your picture! Filling out your profile is crucial for connecting with exciting projects and members.",disableBeacon:!0,placement:"right-start"},{target:".profile-projects-nav",content:"The Projects tab lists all projects you are involved with, whether you're a member or owner of the project.",disableBeacon:!0},{target:".profile-inbox-nav",content:"The Inbox tab shows invitations you have received to join projects. It also shows the status of requests you have made to join projects. Make sure to check here often!",disableBeacon:!0,placement:"right-start"},{target:".user-dropdown",content:"You can always come back to your profile by clicking here.",disableBeacon:!0,placement:"right-start"},{target:".header-projects-nav",content:"The next step is to search through projects and find one that excites you. Or, create a project of your own. Welcome \ud83d\ude00",disableBeacon:!0}];function qa(){return r.a.createElement(xn.a,{steps:Fa,continuous:!0,hideBackButton:!0,showProgress:!0,scrollToFirstStep:!0,styles:{options:{primaryColor:"#343a40"},tooltip:{fontSize:"18px"},tooltipContent:{padding:"30px 5px 0px 5px"}}})}var Aa=function(e){Object(f.a)(n,e);var t=Object(h.a)(n);function n(e){var a;return Object(p.a)(this,n),(a=t.call(this,e)).state={projectOptions:[],selectedProject:null},a.onChange=a.onChange.bind(Object(w.a)(a)),a}return Object(m.a)(n,[{key:"componentDidMount",value:function(){var e=Object(d.a)(u.a.mark((function e(){var t,n;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(Z.isLoggedIn()){e.next=2;break}return e.abrupt("return");case 2:return t=Z.getToken().sub,e.next=5,Ye.getOwnedProjects(t);case 5:n=e.sent,this.setState({projectOptions:n.map(this.convertToOption)});case 7:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"convertToOption",value:function(e){return{label:e.name,value:e.id}}},{key:"onChange",value:function(e){this.setState({selectedProject:e})}},{key:"render",value:function(){var e=this.props,t=e.show,n=e.onClose,a=e.onConfirm,o=this.state,c=o.projectOptions,l=o.selectedProject,i=null===l;return r.a.createElement(le.a,{show:t,animation:!1,onHide:n},r.a.createElement(le.a.Header,{closeButton:!0},r.a.createElement(le.a.Title,null,"Invite to Project")),r.a.createElement(le.a.Body,null,"Send an invitation for the following project:",r.a.createElement(Ct.a,{className:"modal-select",variant:"dark",options:c,value:l,onChange:this.onChange})),r.a.createElement(le.a.Footer,null,r.a.createElement(P.a,{variant:"dark",onClick:n},"Close"),r.a.createElement(P.a,{variant:"dark",disabled:i,onClick:function(){return a(l.value)}},"Confirm")))}}]),n}(r.a.Component),Ua=n(178),Da=n.n(Ua);function Ra(){return(Ra=Object(d.a)(u.a.mark((function e(t){var n,a,r;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(n=new FormData).append("image",t,"image"),a={headers:{Authorization:"Client-ID ".concat("028daff1533a073")}},e.next=5,Da.a.post("https://api.imgur.com/3/image",n,a);case 5:return r=e.sent,e.abrupt("return",r.data.data.link);case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var Va={upload:function(e){return Ra.apply(this,arguments)}},Ha=n(179),za=n.n(Ha),_a=n(183),Ja=(n(325),function(e){Object(f.a)(n,e);var t=Object(h.a)(n);function n(e){var a;return Object(p.a)(this,n),(a=t.call(this,e)).state={image:null,isLoading:!1},a.setEditorRef=a.setEditorRef.bind(Object(w.a)(a)),a.selectImage=a.selectImage.bind(Object(w.a)(a)),a.upload=a.upload.bind(Object(w.a)(a)),a}return Object(m.a)(n,[{key:"setEditorRef",value:function(e){this.editor=e}},{key:"upload",value:function(){var e=Object(d.a)(u.a.mark((function e(){var t,n=this;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t=this.props.onConfirm,this.setState({isLoading:!0}),this.editor.getImage().toBlob(function(){var e=Object(d.a)(u.a.mark((function e(a){var r;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Va.upload(a);case 3:r=e.sent,t(r),e.next=11;break;case 7:e.prev=7,e.t0=e.catch(0),console.log(e.t0),t(null);case 11:n.setState({image:null,isLoading:!1});case 12:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}());case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"selectImage",value:function(e){this.setState({image:e[0]})}},{key:"render",value:function(){var e=this,t=this.state,n=t.image,a=t.isLoading,o=this.props,c=o.show,l=o.onClose,i=null===n||a;return r.a.createElement(le.a,{className:"profile-picture-modal",show:c,onHide:l,size:"md",centered:!0},r.a.createElement(le.a.Header,{closeButton:!0},r.a.createElement(le.a.Title,null,"Upload Profile Picture")),r.a.createElement(le.a.Body,null,r.a.createElement("div",{className:"info"},"Drag a new profile picture below:"),r.a.createElement("div",{className:"dropzone"},r.a.createElement(_a.a,{onDrop:this.selectImage,noKeyboard:!0,noClick:!0},(function(t){var a=t.getRootProps,o=t.getInputProps;return r.a.createElement("div",a(),r.a.createElement(za.a,{ref:e.setEditorRef,image:n||wa.a,border:4}),r.a.createElement("input",o()))})))),r.a.createElement(le.a.Footer,null,r.a.createElement(P.a,{variant:"dark",onClick:l},"Close"),r.a.createElement(P.a,{variant:"dark",onClick:function(){return e.upload(n)},disabled:i},a?"Loading...":"Confirm")))}}]),n}(r.a.Component)),Ga={OVERVIEW:"overview",PROJECTS:"projects",INBOX:"inbox"},Qa=function(e){Object(f.a)(n,e);var t=Object(h.a)(n);function n(e){var a;return Object(p.a)(this,n),(a=t.call(this,e)).username=null,a.state={profile:null,editableProfile:null,isEditable:!1,tab:Ga.OVERVIEW,finishedLoading:!1,showInviteModal:!1,showPictureModal:!1,runNux:!1},a.toggleEditable=a.toggleEditable.bind(Object(w.a)(a)),a.onProfileFieldEdit=a.onProfileFieldEdit.bind(Object(w.a)(a)),a.saveProfile=a.saveProfile.bind(Object(w.a)(a)),a.updatePicture=a.updatePicture.bind(Object(w.a)(a)),a.inviteToProject=a.inviteToProject.bind(Object(w.a)(a)),a.changeTab=a.changeTab.bind(Object(w.a)(a)),a.triggerNux=a.triggerNux.bind(Object(w.a)(a)),a}return Object(m.a)(n,[{key:"componentDidMount",value:function(){var e=Object(d.a)(u.a.mark((function e(){var t,n;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=this.props.match.params,this.username=t.username,this.username){e.next=5;break}return this.setState({finishedLoading:!0}),e.abrupt("return");case 5:return e.prev=5,e.next=8,dt.getProfile(this.username);case 8:n=e.sent,this.setState({profile:n,editableProfile:Object(xe.a)({},n),finishedLoading:!0}),this.triggerNux(),e.next=17;break;case 13:e.prev=13,e.t0=e.catch(5),this.setState({finishedLoading:!0}),console.log(e.t0);case 17:case"end":return e.stop()}}),e,this,[[5,13]])})));return function(){return e.apply(this,arguments)}}()},{key:"componentDidUpdate",value:function(){this.setTabFromURL()}},{key:"setTabFromURL",value:function(){var e=this.state.tab,t=F.getQueryParams().get("tab")||Ga.OVERVIEW;if(t===Ga.INBOX&&(!Z.isLoggedIn()||this.username!==Z.getToken().username))return this.changeTab(Ga.OVERVIEW);t!==e&&this.changeTab(t)}},{key:"changeTab",value:function(e){this.setState({tab:e});var t=F.getQueryParams();t.set("tab",e),F.updateQueryParams(t)}},{key:"triggerNux",value:function(){var e=this.state,t=e.profile,n=e.runNux;t&&!n&&(Z.isLoggedIn()&&Z.getToken().username===t.username&&!Dn.hasShownProfileNux()&&(this.changeTab(Ga.OVERVIEW),Dn.setProfileNuxShown(),this.setState({runNux:!0})))}},{key:"toggleEditable",value:function(){this.setState((function(e){return{isEditable:!e.isEditable}}))}},{key:"onProfileFieldEdit",value:function(e,t){var n=this.state.editableProfile;n[e]=t,this.setState({editableProfile:n})}},{key:"saveProfile",value:function(){var e=Object(d.a)(u.a.mark((function e(){var t;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=this.state.editableProfile,e.prev=1,e.next=4,dt.updateProfile(t);case 4:this.setState({profile:Object(xe.a)({},t)}),this.toggleEditable(),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(1),console.log(e.t0);case 11:case"end":return e.stop()}}),e,this,[[1,8]])})));return function(){return e.apply(this,arguments)}}()},{key:"updatePicture",value:function(){var e=Object(d.a)(u.a.mark((function e(t){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.setState({showPictureModal:!1}),!t){e.next=6;break}return this.state.editableProfile.pictureUrl=t,e.next=6,this.saveProfile();case 6:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"inviteToProject",value:function(){var e=Object(d.a)(u.a.mark((function e(t){var n,a;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=this.state.profile,a=this.props.showAlert,this.setState({showInviteModal:!1}),e.prev=3,e.next=6,Ye.createInvite(n.id,t);case 6:a("You have invited this user to your project.","success"),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(3),a("You have already invited this user.","warning");case 12:case"end":return e.stop()}}),e,this,[[3,9]])})));return function(t){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this,t=this.state,n=t.profile,a=t.editableProfile,o=t.tab,c=t.isEditable,l=t.finishedLoading,i=t.showInviteModal,s=t.showPictureModal,u=t.runNux;return n?r.a.createElement(r.a.Fragment,null,r.a.createElement(v.a,null,r.a.createElement("title",null,n.username)),u&&r.a.createElement(qa,null),r.a.createElement(Aa,{show:i,onConfirm:this.inviteToProject,onClose:function(){return e.setState({showInviteModal:!1})}}),r.a.createElement(Ja,{show:s,onConfirm:this.updatePicture,onClose:function(){return e.setState({showPictureModal:!1})}}),r.a.createElement(vt.a,{className:"profile-container",bg:"secondary",border:"secondary"},r.a.createElement(Pa,{profile:n,tab:o,isEditable:c,onSaveProfile:this.saveProfile,onToggleEditable:this.toggleEditable,onInvite:function(){return e.setState({showInviteModal:!0})},onUpdatePicture:function(){return e.setState({showPictureModal:!0})},onTabChange:this.changeTab}),r.a.createElement(vt.a.Body,null,o===Ga.OVERVIEW&&r.a.createElement(Ta,{profile:n,editableProfile:a,isEditable:c,onProfileFieldEdit:this.onProfileFieldEdit}),o===Ga.PROJECTS&&r.a.createElement(Ma,{profile:n}),o===Ga.INBOX&&r.a.createElement(Ba,{profile:n})))):r.a.createElement(r.a.Fragment,null,r.a.createElement(v.a,null,r.a.createElement("title",null,"Profile")),l?r.a.createElement("h5",null,"Profile not found."):r.a.createElement(Nt,null))}}]),n}(r.a.Component),Wa=Object(i.f)(me(Qa,"profile-page")),Ya=(n(326),function(e){Object(f.a)(n,e);var t=Object(h.a)(n);function n(e){var a;return Object(p.a)(this,n),(a=t.call(this,e)).state={project:{ownerId:null,name:"",description:"",directions:"",languages:[],interests:[],selfJoinable:!0,status:"Planning Phase",type:"public",discordUrl:"_"}},a.onProjectFieldEdit=a.onProjectFieldEdit.bind(Object(w.a)(a)),a.createProject=a.createProject.bind(Object(w.a)(a)),a}return Object(m.a)(n,[{key:"componentDidMount",value:function(){var e=Object(d.a)(u.a.mark((function e(){var t,n;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:Z.isLoggedIn()?(t=Z.getToken().sub,(n=this.state.project).ownerId=t,this.setState({project:n})):F.navigate("/");case 1:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"onProjectFieldEdit",value:function(e,t){var n=this.state.project;n[e]=t,this.setState({project:n})}},{key:"createProject",value:function(){var e=Object(d.a)(u.a.mark((function e(){var t,n;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=this.state.project,e.prev=1,e.next=4,Ye.createProject(t);case 4:n=e.sent,F.navigate("/#/project/".concat(n)),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(1),console.log(e.t0);case 11:case"end":return e.stop()}}),e,this,[[1,8]])})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this.state.project,t=""===e.name.trim();return r.a.createElement(he,{className:"project-page create-project-page"},r.a.createElement(v.a,null,r.a.createElement("title",null,"Create a Project")),r.a.createElement(j.a,null,r.a.createElement(y.a,null,r.a.createElement(vt.a,{className:"project-container",bg:"secondary",border:"secondary"},r.a.createElement(vt.a.Header,null,r.a.createElement("br",null),r.a.createElement("h2",null,r.a.createElement("span",null,"\ud83d\udca1")," Create a Project")),r.a.createElement(vt.a.Body,null,r.a.createElement(kn,{project:e,onProjectFieldEdit:this.onProjectFieldEdit,isCreateView:!0}),r.a.createElement("hr",null),r.a.createElement(P.a,{variant:"dark",size:"lg",onClick:this.createProject,block:!0,disabled:t},"Create"))))))}}]),n}(r.a.Component)),Ka=Object(i.f)(Ya);function Xa(){var e=Object(N.a)(["\n  mutation(\n    $accountId: Int!,\n    $newPassword: String!,\n    $resetToken: String!\n  ) {\n    changeForgottenPassword(input: {\n      accountId: $accountId,\n      newPassword: $newPassword,\n      resetToken: $resetToken\n    }) {\n      success\n      clientMutationId\n    }\n  }\n"]);return Xa=function(){return e},e}function Za(){var e=Object(N.a)(["\n  mutation($email: String!) {\n    initiateForgotPassword(input: {\n      email: $email\n    }) {\n      clientMutationId\n    }\n  }\n"]);return Za=function(){return e},e}var er=M()(Za()),tr=M()(Xa());function nr(){return(nr=Object(d.a)(u.a.mark((function e(t){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,z.mutate({mutation:er,variables:{email:t}});case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function ar(){return(ar=Object(d.a)(u.a.mark((function e(t,n,a){var r;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,z.mutate({mutation:tr,variables:{accountId:t,newPassword:n,resetToken:a}});case 2:return r=e.sent,e.abrupt("return",r.data.changeForgottenPassword.success);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var rr={initiateForgotPassword:function(e){return nr.apply(this,arguments)},changeForgottenPassword:function(e,t,n){return ar.apply(this,arguments)}},or=me(function(e){Object(f.a)(n,e);var t=Object(h.a)(n);function n(e){var a;return Object(p.a)(this,n),(a=t.call(this,e)).initiateForgotPassword=Object(d.a)(u.a.mark((function e(){var t,n;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=a.state.email,n=a.props.showAlert,a.setState({hasSubmitted:!0}),e.prev=3,e.next=6,rr.initiateForgotPassword(t);case 6:n("If there is a match, instructions will be sent to your e-mail address shortly.","success"),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(3),console.log(e.t0);case 12:case"end":return e.stop()}}),e,null,[[3,9]])}))),a.state={email:"",hasSubmitted:!1},a}return Object(m.a)(n,[{key:"render",value:function(){var e=this,t=this.state,n=t.email,a=t.hasSubmitted||""===n;return r.a.createElement(r.a.Fragment,null,r.a.createElement("h4",null,"Forgot your password?"),r.a.createElement("p",null,"Enter your account's e-mail address below. If there is a match, an email will be sent with instructions to reset your password."),r.a.createElement(ce.a,null,r.a.createElement(ce.a.Group,null,r.a.createElement(ce.a.Control,{type:"text",placeholder:"Email",value:n,onChange:function(t){return e.setState({email:t.target.value})}}),r.a.createElement(P.a,{className:"submit-button",variant:"primary",onClick:this.initiateForgotPassword,disabled:a,block:!0},"Submit"))))}}]),n}(r.a.Component)),cr=me(function(e){Object(f.a)(n,e);var t=Object(h.a)(n);function n(e){var a;return Object(p.a)(this,n),(a=t.call(this,e)).changePassword=Object(d.a)(u.a.mark((function e(){var t,n,r,o,c;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=a.props,n=t.accountId,r=t.resetToken,o=t.showAlert,c=a.state.newPassword,a.setState({hasSubmitted:!0}),e.prev=3,e.next=6,rr.changeForgottenPassword(n,c,r);case 6:e.sent?o("Your password has been changed! Redirecting...","success"):o("This password reset link is no longer valid. Redirecting...","danger"),setTimeout((function(){return F.navigate("/")}),3e3),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(3),console.log(e.t0);case 14:case"end":return e.stop()}}),e,null,[[3,11]])}))),a.state={newPassword:"",newPasswordConfirmation:"",hasSubmitted:!1},a}return Object(m.a)(n,[{key:"render",value:function(){var e=this,t=this.state,n=t.newPassword,a=t.newPasswordConfirmation,o=t.hasSubmitted||""===n||n!==a;return r.a.createElement(r.a.Fragment,null,r.a.createElement("h4",null,"Finish changing your password"),r.a.createElement("p",null,"Enter a new password below to update your account's login credentials."),r.a.createElement(ce.a,null,r.a.createElement(ce.a.Group,null,r.a.createElement(ce.a.Control,{type:"password",placeholder:"New password",value:n,onChange:function(t){return e.setState({newPassword:t.target.value})}}),r.a.createElement(ce.a.Control,{type:"password",placeholder:"Confirm password",value:a,onChange:function(t){return e.setState({newPasswordConfirmation:t.target.value})}}),r.a.createElement(P.a,{className:"submit-button",variant:"primary",onClick:this.changePassword,disabled:o,block:!0},"Submit"))))}}]),n}(r.a.Component)),lr=(n(327),me(function(e){Object(f.a)(n,e);var t=Object(h.a)(n);function n(e){var a;return Object(p.a)(this,n),(a=t.call(this,e)).state={accountId:null,resetToken:null},a}return Object(m.a)(n,[{key:"componentDidMount",value:function(){var e=F.getQueryParams(),t=e.get("id");this.setState({accountId:t?Number(t):null,resetToken:e.get("t")})}},{key:"render",value:function(){var e=this.state,t=e.accountId,n=e.resetToken,a=t&&n;return r.a.createElement(r.a.Fragment,null,r.a.createElement(v.a,null,r.a.createElement("title",null,"Forgot password")),r.a.createElement(vt.a,{className:"forgot-password-container",bg:"secondary",border:"secondary"},a?r.a.createElement(cr,{accountId:t,resetToken:n}):r.a.createElement(or,null)))}}]),n}(r.a.Component),"forgot-password-page")),ir=n(181),sr=n.n(ir),ur=n(141);function dr(e,t){ur.a.pageview(e.pathname+e.hash)}ur.a.initialize("UA-80633604-4"),dr(window.location);var pr=sr()();function mr(){return r.a.createElement(l.a,{history:pr},r.a.createElement(i.c,null,r.a.createElement(i.a,{path:"/profile/:username"},r.a.createElement(Wa,null)),r.a.createElement(i.a,{path:"/projects/create"},r.a.createElement(Ka,null)),r.a.createElement(i.a,{path:"/projects"},r.a.createElement(Lt,null)),r.a.createElement(i.a,{path:"/people"},r.a.createElement(xa,null)),r.a.createElement(i.a,{path:"/project/:id"},r.a.createElement(_n,null)),r.a.createElement(i.a,{path:"/board/:id"},r.a.createElement(ba,null)),r.a.createElement(i.a,{path:"/forgot_password"},r.a.createElement(lr,null)),r.a.createElement(i.a,{exact:!0,path:"/"},r.a.createElement(pt,null))))}pr.listen(dr),c.a.render(r.a.createElement(mr,null),document.getElementById("root"))},65:function(e,t,n){},83:function(e,t,n){e.exports=n.p+"static/media/default-profile.f540a12d.png"}},[[187,1,2]]]);