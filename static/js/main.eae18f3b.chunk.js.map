{"version":3,"sources":["controllers/graphqlClient.js","controllers/userController.js","components/header.js","components/modals/loginModal.js","components/layout.js","components/register.js","components/homeTimeline.js","controllers/projectController.js","controllers/profileController.js","pages/home.js","components/project/projectCard.js","components/loading.js","pages/projects.js","controllers/webController.js","controllers/requestController.js","components/project/joinProjectButton.js","components/modals/confirmationModal.js","components/confirmationButton.js","components/project/projectHeader.js","components/modals/inviteMemberModal.js","controllers/tagController.js","components/TagSelect.js","components/project/editableProject.js","components/project/readOnlyProject.js","components/project/projectOverview.js","components/project/manageProjectMembers.js","pages/project.js","components/profile/profileCard.js","pages/people.js","components/profile/profileHeader.js","components/profile/editableProfile.js","components/profile/readOnlyProfile.js","components/profile/profileOverview.js","components/profile/profileProjects.js","components/profile/profileInbox.js","components/modals/inviteToProjectModal.js","pages/profile.js","pages/projects/create.js","index.js","images/default-profile.png"],"names":["cookies","Cookies","httpLink","HttpLink","uri","authLink","ApolloLink","operation","forward","jwt","get","setContext","headers","client","ApolloClient","link","concat","cache","InMemoryCache","defaultOptions","query","fetchPolicy","REGISTER_MUTATION","gql","LOGIN_MUTATION","email","username","password","a","mutate","mutation","variables","res","data","register","jwtToken","set","path","message","login","isLoggedIn","jwtDecode","logOut","remove","getToken","GITHUB_AUTH_URL","API_PREFIX","Header","props","bind","UserController","window","history","pushState","location","reload","showLoginModal","this","className","Navbar","variant","NavbarBrand","href","Nav","NavLink","Dropdown","drop","Toggle","size","Menu","Item","onClick","Button","React","Component","withContext","withRouter","LoginModal","state","errorMessage","onChange","field","event","value","target","setState","onLogin","show","onClose","Modal","onHide","centered","Col","closeButton","Title","Body","Alert","Form","Group","Control","type","placeholder","Footer","block","style","color","LayoutContext","createContext","Layout","isAlertVisible","isLoginModalVisible","loginIntentHref","alertType","alertText","followLoginIntent","showAlert","renderAlert","text","dismissible","children","context","Provider","pageClassName","consumer","Consumer","ERROR_MESSAGES","Register","error","push","isRegisterDisabled","trim","disabled","to","TimelineTab","TIMELINE_ELEMENT_PROPS","contentStyle","background","contentArrowStyle","borderRight","iconStyle","OWNER_STEPS","title","icon","MEMBER_STEPS","HomeTimeline","tab","changeTab","steps","ButtonGroup","active","map","step","i","key","GET_PROJ_COUNT_QUERY","GET_PROJECT_QUERY","GET_PROJECTS_QUERY","GET_FILTERED_PROJECTS_QUERY","GET_OWNED_PROJECTS_QUERY","CREATE_PROJECT_MUTATION","UPDATE_PROJ_MUTATION","allProjects","totalCount","project","id","projectById","pendingMembers","nodes","p","requestId","edges","requestStatus","status","requestType","node","search","createProject","profileId","profileById","ownedProjects","getProjects","getFilteredProjects","getOwnedProjects","getProject","updateProject","getProjCount","GET_PROF_COUNT_QUERY","GET_PROFILES_QUERY","GET_FILTERED_PROFILES_QUERY","PROFILE_QUERY","UPDATE_PROFILE_MUTATION","allProfiles","profile","profileByUsername","pendingProjects","getProfile","updateProfile","getProfiles","getFilteredProfiles","getProfCount","Home","projectCount","profileCount","projectController","profileController","console","log","qs","parse","Helmet","Container","Row","xs","span","md","ProjectCard","Card","bg","textDecoration","name","Text","description","members","interests","length","interest","Badge","pill","languages","language","Loading","Spinner","animation","Projects","projects","finishedLoading","retrieveProjects","debounce","updateSearch","renderHeader","renderProjects","renderCreateButton","ProjectController","FormControl","sm","fluid","getQueryParams","hash","URLSearchParams","split","updateQueryParams","params","baseURL","replaceState","toString","ACCEPT_MUTATION","DECLINE_MUTATION","CREATE_MEMBERSHIP_MUTATION","DELETE_MEMBERSHIP_MUTATION","CREATE_INVITE_MUTATION","CREATE_REQUEST_MUTATION","projectId","accept","decline","requestToJoinProject","joinProject","leaveProject","inviteToProject","JoinProjectButton","sub","isOwner","ownerId","isMember","some","m","selfJoinable","ConfirmationModal","onConfirm","ConfirmationButton","showConfirmationModal","confirm","ProjectHeader","onTabChange","fill","activeKey","ProjectTab","OVERVIEW","Link","eventKey","MANAGE","isEditable","isEditValid","onJoin","onLeave","onInvite","onToggleEditable","onSave","isOwnProject","owner","renderNav","InviteToProjectModal","profileOptions","selectedProfile","ProfileController","profiles","convertToOption","label","isConfirmDisabled","options","SKILLS","INTERESTS","GET_SKILLS_QUERY","GET_INTERESTS_QUERY","allTags","t","getSkills","getInterests","formTheme","theme","colors","primary25","primary","backgroundColor","TagSelect","TagController","tags","convertToOptions","items","item","isMulti","STATUS_OPTIONS","EditableProject","onProjectFieldEdit","maxLength","as","rows","directions","ReadOnlyProject","membersCount","source","member","lang","ProjectOverview","editableProject","ManageProjectMembers","RequestController","ListGroup","kick","filter","renderMembers","renderPendingMembers","Project","showInviteModal","toggleEditable","saveProject","inviteMember","match","Number","setTabFromURL","nextTab","WebController","prevState","border","ProfileCard","Image","src","pictureUrl","DEFAULT_PROFILE","roundedCircle","bio","People","retrieveProfiles","renderProfiles","ProfileHeader","isOwnProfile","ProfileTab","PROJECTS","INBOX","lg","offset","onSaveProfile","showEditOptions","renderPicture","renderHeaderRight","EditableProfile","onProfileFieldEdit","ReadOnlyProfile","ProfileOverview","editableProfile","ProfileProjects","actionText","getPersonalizedText","PROJECT_STATUS","ProfileInbox","requestedProjects","invitedProjects","renderRequests","renderInvites","projectOptions","selectedProject","Profile","saveProfile","createInvite","CreateProject","isCreateDisabled","App","exact","ReactDOM","render","StrictMode","document","getElementById","module","exports"],"mappings":"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","file":"static/js/main.eae18f3b.chunk.js","sourcesContent":["import {\n  ApolloClient,\n  InMemoryCache,\n  HttpLink,\n  ApolloLink\n} from 'apollo-boost';\nimport Cookies from 'universal-cookie';\n\nconst cookies = new Cookies();\n\nconst httpLink = new HttpLink({\n  uri: 'https://quaranteamtech.herokuapp.com/graphql',\n});\n\nconst authLink = new ApolloLink((operation, forward) => {\n  const jwt = cookies.get('jwt');\n\n  if (jwt) {\n    operation.setContext({\n      headers: {\n        'Authorization': `Bearer ${jwt}`\n      }\n    });\n  }\n  \n  return forward(operation);\n});\n\nexport const client = new ApolloClient({\n  link: authLink.concat(httpLink),\n  cache: new InMemoryCache(),\n  defaultOptions: {\n    query: {\n      fetchPolicy: 'no-cache'\n    }\n  }\n});","import gql from 'graphql-tag';\nimport Cookies from 'universal-cookie';\nimport jwtDecode from 'jwt-decode';\nimport { client } from './graphqlClient';\n\nconst API_PREFIX = 'https://quaranteamtech.herokuapp.com/';\nconst GITHUB_AUTH_ENDPOINT = 'auth/github';\n\nconst cookies = new Cookies();\n\nconst REGISTER_MUTATION = gql`\n  mutation ($username: String!, $email: String!, $password:String!) {\n    register(\n      input: {\n        username: $username\n        email: $email\n        password: $password\n      }\n    ) { jwtToken }\n  }`;\n\nconst LOGIN_MUTATION = gql`\n  mutation ($email: String!, $password:String!) {\n    login(\n      input: {\n        email: $email\n        password: $password\n      }\n    ) { jwtToken }\n  }`;\n\nasync function register(email, username, password) {\n  try {\n    const res = await client.mutate({\n      mutation: REGISTER_MUTATION,\n      variables: { email, username, password }\n    });\n\n    const jwt = res.data.register.jwtToken;\n    cookies.set('jwt', jwt, { path: '/' });\n\n    return { jwt };\n  } catch (error) {\n    throw {\n      message: 'An account already exists with this email or username.'\n    };\n  }\n}\n\nasync function login(email, password) {\n  try {\n    const res = await client.mutate({\n      mutation: LOGIN_MUTATION,\n      variables: { email, password }\n    });\n\n    const jwt = res.data.login.jwtToken;\n    if (jwt) {\n      cookies.set('jwt', jwt, { path: '/' });\n      return { jwt };\n    } else {\n      throw { message: 'Invalid username or password.' };\n    }\n  } catch (error) {\n    throw error;\n  }\n}\n\nfunction isLoggedIn() {\n  const jwt = cookies.get('jwt');\n  if (!jwt) {\n    return false;\n  }\n  try {\n    jwtDecode(jwt);\n    return true;\n  } catch {\n    return false;\n  }\n}\n\nfunction getToken() {\n  const jwt = cookies.get('jwt');\n  if (!jwt) {\n    return null;\n  }\n  try {\n    return jwtDecode(jwt);\n  } catch {\n    return null;\n  }\n}\n\nfunction logOut() {\n  cookies.remove('jwt', { path: '/' });\n}\n\nexport default {\n  register,\n  login,\n  isLoggedIn,\n  logOut,\n  getToken,\n  GITHUB_AUTH_URL: API_PREFIX + GITHUB_AUTH_ENDPOINT\n};","import React from 'react';\nimport { Link, withRouter } from 'react-router-dom';\nimport {\n  Navbar,\n  NavbarBrand,\n  Nav,\n  NavLink,\n  Button,\n  Dropdown\n} from 'react-bootstrap';\nimport { FaUser } from 'react-icons/fa';\nimport { withContext } from '../components/layout';\nimport UserController from \"../controllers/userController\";\nimport '../styles/header.scss';\n\nclass Header extends React.Component {\n  constructor(props) {\n    super(props);\n\n    this.logOut = this.logOut.bind(this);\n  }\n\n  logOut() {\n    UserController.logOut();\n    window.history.pushState({}, '', '/');\n    window.location.reload();\n  }\n\n  render() {\n    const { showLoginModal } = this.props;\n    const username = UserController.isLoggedIn()\n      ? UserController.getToken().username\n      : null;\n\n    return (\n      <header className=\"header\">\n        <div>\n          <Navbar variant=\"dark\">\n            <NavbarBrand href=\"/\"><span>🧬</span> Quaranteam</NavbarBrand>\n            <Nav className=\"ml-auto\">\n              <NavLink href=\"/#/projects\">Projects</NavLink>\n              <NavLink href=\"/#/people\">People</NavLink>\n\n              {UserController.isLoggedIn()\n                ? (\n                  <Dropdown drop=\"left\">\n                    <Dropdown.Toggle variant=\"outline-light\" size=\"sm\" className=\"user-dropdown\">\n                      <FaUser />\n                    </Dropdown.Toggle>\n                    <Dropdown.Menu>\n                      <Dropdown.Item href={`/#/profile/${username}`}>\n                        My Profile\n                      </Dropdown.Item>\n                      <Dropdown.Item href={`/#/profile/${username}?tab=projects`}>\n                        My Projects\n                      </Dropdown.Item>\n                      <Dropdown.Item href={`/#/profile/${username}?tab=inbox`}>\n                        My Inbox\n                      </Dropdown.Item>\n                      <Dropdown.Item href={`/#/projects/create`}>\n                        Create Project\n                      </Dropdown.Item>\n                      <Dropdown.Item onClick={this.logOut}>Logout</Dropdown.Item>\n                    </Dropdown.Menu>\n                  </Dropdown>\n                ) : (\n                  <Button\n                    className=\"login-btn\"\n                    variant=\"light\"\n                    onClick={() => showLoginModal()}\n                  >\n                    Login\n                  </Button>\n                )\n              }\n            </Nav>\n          </Navbar>\n        </div>\n      </header>\n    );\n  }\n}\n\nexport default withContext(withRouter(Header));","import React from \"react\";\nimport { Button, Col } from 'react-bootstrap';\nimport Alert from 'react-bootstrap/Alert'\nimport Form from 'react-bootstrap/Form';\nimport { FaGithub } from 'react-icons/fa';\nimport Modal from 'react-bootstrap/Modal';\nimport UserController from '../../controllers/userController';\nimport '../../styles/auth.scss';\n\nexport default class LoginModal extends React.Component {\n  constructor(props) {\n    super(props);\n\n    this.state = {\n      email: '',\n      password: '',\n      errorMessage: null\n    };\n\n    this.onChange = this.onChange.bind(this);\n    this.login = this.login.bind(this);\n  }\n\n  onChange(field, event) {\n    const value = event.target.value;\n    this.setState({ [field]: value });\n  }\n\n  async login() {\n    const { onLogin } = this.props;\n    const { email, password } = this.state;\n\n    try {\n      await UserController.login(email, password);\n      onLogin();\n    } catch (error) {\n      this.setState({ errorMessage: error.message });\n    }\n  }\n\n  render() {\n    const { show, onClose } = this.props;\n    const { errorMessage } = this.state\n\n    return (\n      <Modal\n        show={show}\n        className=\"login\"\n        onHide={onClose}\n        size=\"md\"\n        centered\n      >\n        <Col>\n          <Modal.Header closeButton>\n            <Modal.Title>\n              <span>👩‍🔬</span> Login\n            </Modal.Title>\n          </Modal.Header>\n          <Modal.Body className=\"show-grid\">\n            {errorMessage && <Alert variant=\"danger\">{errorMessage}</Alert>}\n            <Form>\n              <Form.Group>\n                <Form.Control type=\"email\" placeholder=\"Email\" onChange={(event) => this.onChange('email', event)} />\n              </Form.Group>\n              <Form.Group>\n                <Form.Control type=\"password\" placeholder=\"Password\" onChange={(event) => this.onChange('password', event)} />\n              </Form.Group>\n            </Form>\n          </Modal.Body>\n          <Modal.Footer>\n            <Button onClick={this.login} variant=\"primary\" block>Login</Button>\n            <h5>Or...</h5>\n            <Button href={UserController.GITHUB_AUTH_URL} variant=\"success\" block>\n              <span><FaGithub className=\"icon\" size=\"1.8em\" /> Login with GitHub</span>\n            </Button>\n          </Modal.Footer>\n          <hr />\n          <h6>\n            Don't have an account?\n            &nbsp;\n            <a href=\"/\" style={{ color: '#333333' }}>Register here!</a>\n          </h6>\n        </Col>\n        <br />\n      </Modal>\n    );\n  }\n}","import React from 'react';\nimport { withRouter } from 'react-router-dom';\nimport Header from './header';\nimport LoginModal from './modals/loginModal';\nimport Alert from 'react-bootstrap/Alert';\nimport '../styles/layout.scss';\n\nexport const LayoutContext = React.createContext();\n\nclass Layout extends React.Component {\n  constructor(props) {\n    super(props);\n\n    this.state = {\n      isAlertVisible: false,\n      isLoginModalVisible: false,\n      loginIntentHref: null,\n      alertType: null,\n      alertText: null\n    };\n\n    this.followLoginIntent = this.followLoginIntent.bind(this);\n    this.showLoginModal = this.showLoginModal.bind(this);\n    this.showAlert = this.showAlert.bind(this);\n    this.renderAlert = this.renderAlert.bind(this);\n  }\n\n  followLoginIntent() {\n    this.setState({ isLoginModalVisible: false });\n    const { loginIntentHref } = this.state;\n    if (loginIntentHref) {\n      window.history.pushState({}, '', loginIntentHref);\n      window.location.reload();\n    }\n  }\n\n  showLoginModal(loginIntentHref) {\n    this.setState({\n      isLoginModalVisible: true,\n      loginIntentHref\n    });\n  }\n\n  showAlert(text, type) {\n    this.setState({\n      isAlertVisible: true,\n      alertType: type,\n      alertText: text\n    });\n  }\n\n  renderAlert() {\n    const { isAlertVisible, alertType, alertText } = this.state;\n\n    if (!isAlertVisible) {\n      return null;\n    }\n\n    return (\n      <Alert\n        className=\"layout-alert\"\n        variant={alertType}\n        dismissible={true}\n        onClose={() => this.setState({ isAlertVisible: false })}\n      >\n        {alertText}\n      </Alert>\n    );\n  }\n\n  render() {\n    const { className, children } = this.props;\n    const { isLoginModalVisible } = this.state;\n\n    const context = {\n      showAlert: this.showAlert,\n      showLoginModal: this.showLoginModal\n    };\n\n    return (\n      <LayoutContext.Provider value={context}>\n        <Header />\n        <LoginModal\n          show={isLoginModalVisible}\n          onClose={() => this.setState({ isLoginModalVisible: false })}\n          onLogin={this.followLoginIntent}\n        />\n        <div className=\"container-fluid\">\n          {this.renderAlert()}\n          <main className={className}>{children}</main>\n        </div>\n      </LayoutContext.Provider>\n    );\n  }\n}\n\nexport function withContext(Component, pageClassName) {\n  return function connectedComponent(props) {\n    const consumer = (\n      <LayoutContext.Consumer>\n        {context =>\n          <Component\n            {...props}\n            showAlert={context.showAlert}\n            showLoginModal={context.showLoginModal}\n          />\n        }\n      </LayoutContext.Consumer>\n    );\n\n    if (pageClassName) {\n      return (\n        <Layout className={pageClassName}>\n          {consumer}\n        </Layout>\n      );\n    }\n    \n    return consumer;\n  }\n}\n\nexport default withRouter(Layout);","import React from \"react\";\nimport { withRouter, Link } from 'react-router-dom';\nimport { Button } from 'react-bootstrap';\nimport Alert from 'react-bootstrap/Alert'\nimport Form from 'react-bootstrap/Form';\nimport { FaGithub } from 'react-icons/fa';\nimport UserController from \"../controllers/userController\";\nimport '../styles/auth.scss';\nimport { withContext } from './layout';\n\nconst ERROR_MESSAGES = {\n  'duplicate': 'An account already exists with this email or username.'\n};\n\nclass Register extends React.Component {\n  constructor(props) {\n    super(props);\n\n    this.state = {\n      email: '',\n      username: '',\n      password: '',\n      errorMessage: null\n    };\n\n    this.onChange = this.onChange.bind(this);\n    this.register = this.register.bind(this);\n  }\n\n  componentDidMount() {\n    const { location } = this.props;\n    if (location.error) {\n      this.setState({\n        errorMessage: ERROR_MESSAGES[location.error] || 'An unknown error occurred.'\n      });\n    }\n  }\n\n  onChange(field, event) {\n    const value = event.target.value;\n    this.setState({ [field]: value });\n  }\n\n  async register() {\n    const { email, username, password } = this.state;\n\n    try {\n      await UserController.register(email, username, password);\n      this.props.history.push(`/profile/${UserController.getToken().username}`);\n    } catch (error) {\n      this.setState({ errorMessage: error.message });\n    }\n  }\n\n  render() {\n    const { showLoginModal } = this.props;\n    const {\n      email,\n      username,\n      password,\n      errorMessage\n    } = this.state;\n\n    const isRegisterDisabled = email.trim() === '' ||\n      username.trim() === '' || password.trim() === '';\n\n    return (\n        <div className=\"register\">\n          <h1>\n            Create an Account\n          </h1>\n          {errorMessage && <Alert variant=\"danger\">{errorMessage}</Alert>}\n          <Form>\n            <Form.Group>\n              <Form.Control type=\"email\" placeholder=\"Email\" onChange={(event) => this.onChange('email', event)}/>\n            </Form.Group>\n            <Form.Group>\n              <Form.Control type=\"text\" placeholder=\"Username\" onChange={(event) => this.onChange('username', event)}/>\n            </Form.Group>\n            <Form.Group>\n              <Form.Control type=\"password\" placeholder=\"Password\" onChange={(event) => this.onChange('password', event)}/>\n            </Form.Group>\n            <Button onClick={this.register} variant=\"primary\" block disabled={isRegisterDisabled}>\n              Register\n            </Button>\n            <h6>Or...</h6>\n            <Button href={UserController.GITHUB_AUTH_URL} variant=\"success\" block>\n              <span><FaGithub className=\"icon\" size=\"1.8em\"/> Register with GitHub</span>\n            </Button>\n            <h6>\n              Already have an account?\n              <b>\n                <Link to=\"#\" onClick={() => showLoginModal()}> Login</Link>\n              </b>\n            </h6>\n          </Form>\n        </div>\n    );\n  }\n}\n\nexport default withContext(withRouter(Register));","import React from 'react';\nimport ButtonGroup from 'react-bootstrap/ButtonGroup';\nimport Button from 'react-bootstrap/Button';\nimport { VerticalTimeline, VerticalTimelineElement } from 'react-vertical-timeline-component';\nimport { FaUser, FaLightbulb, FaPlus, FaUserFriends, FaLaptopCode, FaSearch } from 'react-icons/fa';\nimport 'react-vertical-timeline-component/style.min.css';\nimport '../styles/homeTimeline.scss';\n\nconst TimelineTab = {\n  OWNER: 'owner',\n  MEMBER: 'member'\n};\n\nconst TIMELINE_ELEMENT_PROPS = {\n  contentStyle: { background: '#6c757d', color: '#fff' },\n  contentArrowStyle: { borderRight: '7px solid #6c757d' },\n  iconStyle: { background: '#6c757d', color: '#fff' }\n};\n\nconst OWNER_STEPS = [\n  {\n    title: 'Register',\n    text: 'Create a profile on Quaranteam, including a bio, your skills, and your interest areas.',\n    icon: <FaUser />\n  },\n  {\n    title: 'Ideate',\n    text: 'Come up with an exciting idea for a side project you\\'d like to work on.',\n    icon: <FaLightbulb />\n  },\n  {\n    title: 'Create a Project',\n    text: 'Create a project listing on Quaranteam. You will be able to specify the project\\'s'\n      + ' description, relevant interest areas, and skills required. You can'\n      + ' also configure whether members can join directly, or whether they must be invited by you.',\n    icon: <FaPlus />\n  },\n  {\n    title: 'Find Members',\n    text: 'Users can request to join your project themselves, or you can invite them to your'\n      + ' project yourself. There are many talented users on Quaranteam!',\n    icon: <FaUserFriends />\n  },\n  {\n    title: 'Develop!',\n    text: 'Now that the project has a team, development can begin. As the owner, you can coordinate'\n      + ' with teammates as to how to collaborate. Good luck!',\n    icon: <FaLaptopCode />\n  }\n];\n\nconst MEMBER_STEPS = [\n  {\n    title: 'Register',\n    text: 'Create a profile on Quaranteam, including a bio, your skills, and your interest areas.',\n    icon: <FaUser />\n  },\n  {\n    title: 'Find a Project',\n    text: 'Quaranteam hosts numerous exciting projects. Search through the listings and find'\n      + ' one that matches your skills and interest areas.',\n    icon: <FaSearch />\n  },\n  {\n    title: 'Join a Project',\n    text: 'Once you\\'ve found an exciting project, the next step is to join. Some projects can be'\n      + ' joined immediately; for other, you will need to request to join.',\n    icon: <FaUserFriends />\n  },\n  {\n    title: 'Develop!',\n    text: 'Now that you\\'ve joined a project, you can begin developing. The project owner will provide'\n      + ' guidelines on how to collaborate. Good luck!',\n    icon: <FaLaptopCode />\n  }\n];\n\nexport default class HomeTimeline extends React.Component {\n  constructor(props) {\n    super(props);\n\n    this.state = {\n      tab: TimelineTab.OWNER\n    };\n\n    this.changeTab = this.changeTab.bind(this);\n  }\n\n  changeTab(tab) {\n    this.setState({ tab });\n  }\n\n  render() {\n    const { tab } = this.state;\n    const steps = tab === TimelineTab.OWNER ? OWNER_STEPS : MEMBER_STEPS;\n\n    return (\n      <div className=\"home-timeline\">\n        <h1 className=\"timeline-header\"><span>🤔</span> How does it work?</h1>\n        <ButtonGroup className=\"tab-changer\">\n          <Button\n            onClick={() => this.changeTab(TimelineTab.OWNER)}\n            active={tab === TimelineTab.OWNER}\n            variant=\"secondary\"\n          >\n            I have a project idea\n          </Button>\n          <Button\n            onClick={() => this.changeTab(TimelineTab.MEMBER)}\n            active={tab === TimelineTab.MEMBER}\n            variant=\"secondary\"\n          >\n            I want to join a project\n          </Button>\n        </ButtonGroup>\n        <VerticalTimeline>\n          {steps.map((step, i) => (\n            <VerticalTimelineElement \n              {...TIMELINE_ELEMENT_PROPS}\n              icon={step.icon}\n              key={i}\n            >\n              <h3>{step.title}</h3>\n              <p className=\"element-text\">\n                {step.text}\n              </p>\n            </VerticalTimelineElement>\n          ))}\n        </VerticalTimeline>\n      </div>\n    );\n  }\n}","import gql from 'graphql-tag';\nimport { client } from './graphqlClient';\n\nconst GET_PROJ_COUNT_QUERY = gql`\n  query {\n    allProjects {\n      totalCount\n    }\n  }\n`;\n\nconst GET_PROJECT_QUERY = gql`\n  query ($id: Int!) {\n    projectById(id: $id) {\n      description, directions\n      name, languages\n      selfJoinable, status, type\n      id, interests, ownerId\n      owner { id username }\n      members {\n        totalCount\n        nodes { id username }\n      }\n      pendingMembers {\n        nodes { id username }\n        edges { id type status }\n      }\n    }\n  }\n`;\n\nconst GET_PROJECTS_QUERY = gql`\n  query {\n    allProjects(\n      condition: { type: \"public\" }\n    ) {\n      edges {\n        node {\n          id, name, description\n          languages, interests, status\n          selfJoinable, type\n          members { totalCount }\n        }\n      }\n    }\n  }\n`;\n\nconst GET_FILTERED_PROJECTS_QUERY = gql`\n  query ($search: String!) {\n    allProjects(\n      filter: {\n        or: [\n          { name: { includesInsensitive: $search } }\n          { description: { includesInsensitive: $search } }\n          { interestsText: { includesInsensitive: $search } }\n          { languagesText: { includesInsensitive: $search } }\n        ]\n      },\n      condition: { type: \"public\" }\n    ) {\n      edges {\n        node {\n          id, name, description\n          languages, interests, status\n          selfJoinable, type\n          members { totalCount }\n        }\n      }\n    }\n  }\n`;\n\nconst GET_OWNED_PROJECTS_QUERY = gql`\n  query ($profileId: Int!) {\n    profileById(id: $profileId) {\n      ownedProjects {\n        nodes { id name }\n      }\n    }\n  }\n`;\n\nconst CREATE_PROJECT_MUTATION = gql` \n  mutation (\n    $ownerId: Int!\n    $name: String!\n    $description: String!\n    $directions: String!\n    $languages: [String]!\n    $interests: [String]!\n    $selfJoinable: Boolean!\n    $status: String!\n    $type: String!\n  ) {\n    createProject(\n      input: {\n        project: {\n          ownerId: $ownerId\n          name: $name\n          description: $description\n          directions: $directions\n          languages: $languages\n          interests: $interests\n          selfJoinable: $selfJoinable\n          status: $status\n          type: $type\n        }\n      }\n    ) {\n      clientMutationId\n      project {\n        id\n      }\n    }\n  }`;\n\nconst UPDATE_PROJ_MUTATION = gql`\n  mutation(\n    $id: Int!\n    $name: String!\n    $description: String!\n    $directions: String!\n    $languages: [String]!\n    $interests: [String]!\n    $selfJoinable: Boolean!\n    $status: String!\n    $type: String!\n  ) {\n    updateProjectById(\n      input: {\n        id: $id\n        projectPatch: {\n          name: $name\n          description: $description\n          directions: $directions\n          languages: $languages\n          interests: $interests\n          selfJoinable: $selfJoinable\n          status: $status\n          type: $type\n        }\n      }\n    ) {\n      clientMutationId\n    }\n  }\n`;\n\nasync function getProjCount() {\n  try {\n    const res = await client.query({\n      query: GET_PROJ_COUNT_QUERY\n    });\n    return res.data.allProjects.totalCount;\n  } catch (error) {\n    throw error;\n  }\n}\n\nasync function updateProject(project) {\n  try {\n    await client.mutate({\n      mutation: UPDATE_PROJ_MUTATION,\n      variables: project\n    });\n  } catch (error) {\n    throw error;\n  }\n}\n\nasync function getProject(id) {\n  try {\n    const res = await client.query({\n      query: GET_PROJECT_QUERY,\n      variables: { id }\n    });\n    const project = res.data.projectById;\n\n    // Including request type/status for each pending member\n    project.pendingMembers.nodes =\n      project.pendingMembers.nodes.map((p, i) => ({\n        ...p,\n        requestId: project.pendingMembers.edges[i].id,\n        requestStatus: project.pendingMembers.edges[i].status,\n        requestType: project.pendingMembers.edges[i].type\n      }));\n    \n    return project;\n  } catch (error) {\n    throw error;\n  }\n}\n\nasync function getProjects() {\n  try {\n    const res = await client.query({\n      query: GET_PROJECTS_QUERY\n    });\n\n    return res.data.allProjects.edges.map(p => p.node);\n  } catch (error) {\n    throw error;\n  }\n}\n\nasync function getFilteredProjects(search) {\n  try {\n    const res = await client.query({\n      query: GET_FILTERED_PROJECTS_QUERY,\n      variables: { search }\n    });\n\n    return res.data.allProjects.edges.map(p => p.node);\n  } catch (error) {\n    throw error;\n  }\n}\n\nasync function createProject(project) {\n  try {\n    const res = await client.mutate({\n      mutation: CREATE_PROJECT_MUTATION,\n      variables: project\n    });\n    return res.data.createProject.project.id;\n  } catch (error) {\n    throw error;\n  }\n}\n\nasync function getOwnedProjects(profileId) {\n  try {\n    const res = await client.query({\n      query: GET_OWNED_PROJECTS_QUERY,\n      variables: { profileId }\n    });\n\n    return res.data.profileById.ownedProjects.nodes;\n  } catch (error) {\n    throw error;\n  }\n}\n\nexport default {\n  getProjects,\n  getFilteredProjects,\n  getOwnedProjects,\n  getProject,\n  createProject,\n  updateProject,\n  getProjCount\n};\n","import gql from 'graphql-tag';\nimport { client } from './graphqlClient';\n\nconst GET_PROF_COUNT_QUERY = gql`\n  query {\n    allProfiles {\n      totalCount\n    }\n  }\n`;\n\nconst GET_PROFILES_QUERY = gql`\n  query {\n    allProfiles {\n      edges {\n        node {\n          username\n          id\n          bio\n          interests\n          languages\n          pictureUrl\n        }\n      }\n    }\n  }\n`;\n\nconst GET_FILTERED_PROFILES_QUERY = gql`\n  query ($search: String!) {\n    allProfiles(filter: {\n      or: [\n        { username: { includesInsensitive: $search } }\n        { bio: { includesInsensitive: $search } }\n        { interestsText: { includesInsensitive: $search } }\n        { languagesText: { includesInsensitive: $search } }\n      ]\n    }) {\n      edges {\n        node {\n          username\n          id\n          bio\n          interests\n          languages\n          pictureUrl\n        }\n      }\n    }\n  }\n`;\n\nconst PROFILE_QUERY = gql`\n  query ($username: String!) {\n    profileByUsername(username: $username) {\n      id, username pictureUrl, \n      bio, interests, languages, tz,\n      ownedProjects { nodes { id, name } }\n      projects { nodes { id, name } }\n      pendingProjects {\n        nodes { id, name }\n        edges { id, status, type }\n      }\n    }\n  }`;\n\nconst UPDATE_PROFILE_MUTATION = gql`\n  mutation ($username: String!, $bio: String, $interests: [String]!, $languages: [String]!) {\n    updateProfileByUsername(\n      input: {\n        username: $username\n        profilePatch: {\n          bio: $bio\n          interests: $interests\n          languages: $languages\n        }\n      }\n    ) { clientMutationId }\n  }`;\n\nasync function getProfCount() {\n  try {\n    const res = await client.query({\n      query: GET_PROF_COUNT_QUERY\n    });\n\n    return res.data.allProfiles.totalCount;\n  } catch (error) {\n    throw error;\n  }\n}\n\nasync function getProfile(username) {\n  try {\n    const res = await client.query({\n      query: PROFILE_QUERY,\n      variables: { username }\n    });\n\n    const profile = res.data.profileByUsername;\n\n    // Including request type/status in each pending project\n    profile.pendingProjects.nodes = \n      profile.pendingProjects.nodes.map((p, i) => ({\n      ...p,\n      requestId: profile.pendingProjects.edges[i].id,\n      requestStatus: profile.pendingProjects.edges[i].status,\n      requestType: profile.pendingProjects.edges[i].type\n    }));\n    \n    return profile;\n  } catch (error) {\n    throw error;\n  }\n}\n\nasync function updateProfile(profile) {\n  try {\n    await client.mutate({\n      mutation: UPDATE_PROFILE_MUTATION,\n      variables: profile\n    });\n  } catch (error) {\n    throw error;\n  }\n}\n\nasync function getProfiles() {\n  try {\n    const res = await client.query({\n      query: GET_PROFILES_QUERY\n    });\n\n    return res.data.allProfiles.edges.map(p => p.node);\n  } catch (error) {\n    throw error;\n  }\n}\n\nasync function getFilteredProfiles(search) {\n  try {\n    const res = await client.query({\n      query: GET_FILTERED_PROFILES_QUERY,\n      variables: { search }\n    });\n\n    return res.data.allProfiles.edges.map(p => p.node);\n  } catch (error) {\n    throw error;\n  }\n}\n\nexport default {\n  getProfile,\n  updateProfile,\n  getProfiles,\n  getFilteredProfiles,\n  getProfCount\n};","import React from 'react';\nimport { Helmet } from 'react-helmet';\nimport { Container, Col, Row } from 'react-bootstrap';\nimport Layout from '../components/layout';\nimport Register from '../components/register';\nimport HomeTimeline from '../components/homeTimeline';\nimport qs from 'query-string';\nimport projectController from '../controllers/projectController';\nimport profileController from '../controllers/profileController';\nimport '../styles/home.scss';\n\nexport default class Home extends React.Component {\n  constructor(props) {\n    super(props);\n\n    this.state = {\n      projectCount: 0,\n      profileCount: 0\n    };\n  }\n\n  async componentDidMount() {\n    try {\n      const projectCount = await projectController.getProjCount();\n      const profileCount = await profileController.getProfCount();\n      this.setState({ projectCount, profileCount });\n    } catch (error) {\n      console.log(error);\n    }\n  }\n\n  render() {\n    const { profileCount, projectCount } = this.state;\n    const location = qs.parse(window.location.search);\n\n    return (\n      <>\n        <Layout className=\"home-page\">\n          <Helmet>\n            <title>Quaranteam</title>\n          </Helmet>\n          <Container >\n            <Row>\n              <Col xs={{ span: 12 }} md={{ span: 6 }} className=\"home-text\">\n                <h1 className=\"home-header\">\n                  <span>🧬</span> Quaranteam\n              </h1>\n                <br />\n                <p>\n                  Perhaps your internship was cancelled. Or perhaps you're simply bored.\n                  Creating a side project is a fun and effective way to continue improving\n                  your development skills.\n              </p>\n                <p>\n                  <b>Quaranteam</b> is the best platform for finding projects and team members.\n                Register to join <b>{profileCount}</b> members working\n                on <b>{projectCount}</b> projects!\n              </p>\n              </Col>\n              <Col xs={{ span: 12 }} md={{ span: 6 }}>\n                <Register location={location} />\n              </Col>\n            </Row>\n            <br />\n            <HomeTimeline />\n          </Container>\n          <footer>\n            <p>Quaranteam.tech © 2020</p>\n          </footer>\n        </Layout>\n        <div className=\"stars\"></div>\n        <div className=\"twinkling\"></div>\n      </>\n    );\n  }\n}","import React from \"react\"\nimport '../../styles/projects.scss';\nimport { Card } from \"react-bootstrap\";\nimport Badge from 'react-bootstrap/Badge';\nimport '../../styles/searchCard.scss';\n\nconst DEFAULT_DESCRIPTION = 'This project currently has no description.';\n\nexport default function ProjectCard({ project }) {\n  return (\n    <Card className=\"search-card\" bg=\"secondary\">\n      <a href={`/#/project/${project.id}`} style={{ color: 'inherit', textDecoration: 'inherit' }}>\n        <Card.Body>\n          <Card.Header>{project.name}</Card.Header>\n          <Card.Text>\n            {project.description || DEFAULT_DESCRIPTION}\n          </Card.Text>\n        </Card.Body>\n        <Card.Footer>\n          <b>Members:</b> {project.members.totalCount + 1}\n          <br />\n          <b>Status:</b> {project.status || 'None listed'}\n          <br />\n          \n          {project.interests.length > 0 && (\n            <>\n              <b>Interests: </b>\n              {project.interests.map(interest => (\n                <Badge pill key={interest} variant=\"dark\">\n                  {interest}\n                </Badge>\n              ))}\n              <br />\n            </>\n          )}\n\n          {project.languages.length > 0 && (\n            <>\n              <b>Skills: </b>\n              {project.languages.map(language => (\n                <Badge pill key={language} variant=\"dark\">\n                  {language}\n                </Badge>\n              ))}\n            </>\n          )}\n        </Card.Footer>\n      </a>\n    </Card >\n  );\n}","import React from 'react';\nimport Spinner from 'react-bootstrap/Spinner';\nimport '../styles/loading.scss';\n\nexport default function Loading() {\n  return (\n    <div className=\"loading\">\n      <Spinner animation=\"grow\" variant=\"light\"/>\n      <h6>Loading...</h6>\n    </div>\n  );\n}","import React from 'react';\nimport { Helmet } from 'react-helmet';\nimport { withRouter } from 'react-router-dom';\nimport ProjectCard from '../components/project/projectCard';\nimport Loading from '../components/loading';\nimport { withContext } from '../components/layout';\nimport { Container, Row, Col, FormControl, Button } from \"react-bootstrap\";\nimport ProjectController from '../controllers/projectController';\nimport UserController from \"../controllers/userController\";\nimport { debounce } from 'throttle-debounce';\nimport '../styles/projects.scss';\n\nconst DEBOUNCE_MS = 200;\n\nclass Projects extends React.Component {\n  constructor(props) {\n    super(props);\n\n    this.state = {\n      projects: [],\n      search: '',\n      finishedLoading: false\n    };\n\n    this.retrieveProjects = debounce(\n      DEBOUNCE_MS,\n      this.retrieveProjects.bind(this)\n    );\n    this.updateSearch = this.updateSearch.bind(this);\n    this.renderHeader = this.renderHeader.bind(this);\n    this.renderProjects = this.renderProjects.bind(this);\n    this.renderCreateButton = this.renderCreateButton.bind(this);\n  }\n\n  async componentDidMount() {\n    this.retrieveProjects();\n  }\n\n  async retrieveProjects(search) {\n    this.setState({ finishedLoading: false });\n\n    try {\n      const projects = search\n        ? await ProjectController.getFilteredProjects(search)\n        : await ProjectController.getProjects();\n\n      this.setState({ projects });\n    } catch (error) {\n      console.log(error);\n    }\n\n    this.setState({ finishedLoading: true });\n  }\n\n  updateSearch(search) {\n    this.setState({ search });\n  }\n\n  renderCreateButton() {\n    return (\n      <Button\n        onClick={() => {\n          if (UserController.isLoggedIn()) {\n            window.history.pushState({}, '', '/#/projects/create');\n            window.location.reload();\n          } else {\n            const { showLoginModal } = this.props;\n            showLoginModal('/#/projects/create');\n          }\n        }}\n        className=\"add-project-btn\"\n        variant=\"outline-light\"\n        title=\"Create a project\"\n      >\n        +\n      </Button>\n    );\n  }\n\n  renderHeader() {\n    const { search } = this.state;\n\n    return (\n      <>\n        <h1>\n          <span>💡</span> Projects\n            {this.renderCreateButton()}\n        </h1>\n        <p>\n          Discover projects and find one to join!\n        </p>\n        <FormControl\n          placeholder=\"Search by title, technologies, etc...\"\n          className=\"search\"\n          value={search}\n          type=\"text\"\n          size=\"lg\"\n          onChange={async (event) => {\n            const search = event.target.value;\n            this.updateSearch(search);\n            await this.retrieveProjects(search);\n          }}\n        />\n      </>);\n  }\n\n  renderProjects() {\n    const { projects, finishedLoading } = this.state;\n\n    if (!finishedLoading) {\n      return <Loading />\n    }\n\n    if (projects.length === 0) {\n      return <h4>No projects match the search.</h4>;\n    }\n\n    return (\n      <Row>\n        {projects.map(p => (\n          <Col sm=\"4\" key={p.id}>\n            <ProjectCard project={p} />\n          </Col>\n        ))}\n      </Row>\n    );\n  }\n\n  render() {\n    return (\n      <>\n        <Helmet>\n          <title>Projects</title>\n        </Helmet>\n        <Container fluid>\n          {this.renderHeader()}\n          {this.renderProjects()}\n        </Container>\n      </>\n    );\n  }\n}\n\nexport default withContext(withRouter(Projects), 'projects-page');","function getQueryParams() {\n  const hash = window.location.hash;\n  return new URLSearchParams(hash.split('?')[1]);\n}\n\nfunction updateQueryParams(params) {\n  const baseURL = window.location.href.split('?')[0];\n  window.history.replaceState(\n    {},\n    '',\n    baseURL + '?' + params.toString()\n  );\n}\n\nexport default {\n  getQueryParams,\n  updateQueryParams\n};","import gql from 'graphql-tag';\nimport { client } from './graphqlClient';\n\nconst ACCEPT_MUTATION = gql`\n  mutation ($profileId: Int!, $projectId: Int!) {\n    updateRequestByProfileIdAndProjectId(input: {\n      requestPatch: {\n        status: \"accepted\"\n      }, \n      profileId: $profileId\n      projectId: $projectId\n    }) { clientMutationId }\n    \n    createMembership(input: {\n      membership: {\n        profileId: $profileId\n        projectId: $projectId\n      }\n    }) { clientMutationId }\n  }\n`;\n\nconst DECLINE_MUTATION = gql`\n  mutation ($requestId: Int!) {\n    updateRequestById(input: {\n      requestPatch: {\n        status: \"declined\"\n      }, id: $requestId\n    }) { clientMutationId }\n  }\n`;\n\nconst CREATE_MEMBERSHIP_MUTATION = gql`\n  mutation($profileId: Int!, $projectId: Int!) {\n    createMembership (\n      input: {\n        membership: {\n          profileId: $profileId\n          projectId: $projectId\n        }\n      }\n    ) { clientMutationId }\n  }\n`;\n\nconst DELETE_MEMBERSHIP_MUTATION = gql`\n  mutation ($profileId: Int!, $projectId: Int!) {\n    deleteMembershipByProfileIdAndProjectId(\n      input: {profileId: $profileId, projectId: $projectId}\n    ) { clientMutationId }\n  }\n`;\n\nconst CREATE_INVITE_MUTATION = gql`\n  mutation($profileId: Int!, $projectId: Int!) {\n    createRequest (\n      input: {\n        request: {\n          profileId: $profileId\n          projectId: $projectId\n          type: \"invite\"\n        }\n      }\n    ) { clientMutationId }\n  }\n`;\n\nconst CREATE_REQUEST_MUTATION = gql`\n  mutation($profileId: Int!, $projectId: Int!) {\n    createRequest (\n      input: {\n        request: {\n          profileId: $profileId\n          projectId: $projectId\n          type: \"request\"\n        }\n      }\n    ) { clientMutationId }\n  }\n`;\n\nasync function accept(profileId, projectId) {\n  try {\n    await client.mutate({\n      mutation: ACCEPT_MUTATION,\n      variables: { profileId, projectId }\n    });\n  } catch (error) {\n    throw error;\n  }\n}\n\nasync function decline(requestId) {\n  try {\n    await client.mutate({\n      mutation: DECLINE_MUTATION,\n      variables: { requestId }\n    });\n  } catch (error) {\n    throw error;\n  }\n}\n\nasync function requestToJoinProject(profileId, projectId) {\n  try {\n    await client.mutate({\n      mutation: CREATE_REQUEST_MUTATION,\n      variables: { profileId, projectId }\n    });\n  } catch (error) {\n    throw error;\n  }\n}\n\nasync function joinProject(profileId, projectId) {\n  try {\n    await client.mutate({\n      mutation: CREATE_MEMBERSHIP_MUTATION,\n      variables: { profileId, projectId }\n    });\n  } catch (error) {\n    throw error;\n  }\n}\n\nasync function leaveProject(profileId, projectId) {\n  try {\n    await client.mutate({\n      mutation: DELETE_MEMBERSHIP_MUTATION,\n      variables: { profileId, projectId }\n    });\n  } catch (error) {\n    throw error;\n  }\n}\n\nasync function inviteToProject(profileId, projectId) {\n  try {\n    await client.mutate({\n      mutation: CREATE_INVITE_MUTATION,\n      variables: { profileId, projectId }\n    });\n  } catch (error) {\n    throw error;\n  }\n}\n\nexport default {\n  accept,\n  decline,\n  requestToJoinProject,\n  joinProject,\n  leaveProject,\n  inviteToProject\n};","import React from 'react';\nimport '../../styles/profile.scss';\nimport Button from 'react-bootstrap/Button';\nimport UserController from '../../controllers/userController';\n\nexport default function JoinProjectButton({ project, onClick }) {\n  if (!UserController.isLoggedIn()) {\n    return null;\n  }\n\n  const profileId = UserController.getToken().sub;\n  const isOwner = profileId === project.ownerId;\n  const isMember = \n    project.members.nodes.some(m => m.id === profileId);\n\n  if (isOwner || isMember) {\n    return null;\n  }\n\n  const isPendingMember =\n    project.pendingMembers.nodes.some(m => m.id === profileId);\n  \n  if (isPendingMember) {\n    return (\n      <Button variant=\"dark\" size=\"sm\" disabled>\n        Awaiting request response\n      </Button>\n    );\n  }\n\n  return (\n    <Button variant=\"dark\" size=\"sm\" onClick={onClick}>\n      {project.selfJoinable ? 'Join Project' : 'Request to Join'}\n    </Button>\n  );\n}","import React from \"react\";\nimport { Button } from 'react-bootstrap';\nimport Modal from 'react-bootstrap/Modal';\n\nimport \"../../styles/auth.scss\";\n\nexport default function ConfirmationModal(props) {\n  const { show, message, onClose, onConfirm } = props;\n\n  return (\n    <Modal\n      show={show}\n      onHide={onClose}\n      size=\"md\"\n      centered\n    >\n      <Modal.Header closeButton>\n        <Modal.Title>\n          Confirm\n          </Modal.Title>\n      </Modal.Header>\n      <Modal.Body>\n        {message}\n      </Modal.Body>\n      <Modal.Footer>\n        <Button variant=\"dark\" onClick={onClose}>Close</Button>\n        <Button\n          variant=\"dark\"\n          onClick={onConfirm}\n        >\n          Confirm\n          </Button>\n      </Modal.Footer>\n    </Modal>\n  );\n}","import React from 'react';\nimport Button from 'react-bootstrap/Button';\nimport ConfirmationModal from './modals/confirmationModal';\n\nexport default class ConfirmationButton extends React.Component {\n  constructor(props) {\n    super(props);\n\n    this.state = {\n      showConfirmationModal: false,\n    };\n\n    this.confirm = this.confirm.bind(this);\n  }\n\n  confirm() {\n    this.setState({ showConfirmationModal: false });\n    this.props.onConfirm();\n  }\n\n  render() {\n    const { message } = this.props;\n    const { showConfirmationModal} = this.state;\n\n    return (\n      <>\n        <ConfirmationModal \n          show={showConfirmationModal}\n          message={message}\n          onClose={() => this.setState({ showConfirmationModal: false })}\n          onConfirm={this.confirm}\n        />\n        <Button\n          {...this.props}\n          onClick={() => this.setState({ showConfirmationModal: true })}\n        >\n          {this.props.children}\n      </Button>\n      </>\n    );\n  }\n}","import React from 'react';\nimport Card from 'react-bootstrap/Card';\nimport Nav from 'react-bootstrap/Nav';\nimport Button from 'react-bootstrap/Button';\nimport JoinProjectButton from '../../components/project/joinProjectButton';\nimport \"../../styles/project.scss\";\nimport { FaEdit, FaCheck, FaTimes } from 'react-icons/fa';\nimport UserController from '../../controllers/userController';\nimport ConfirmationButton from '../confirmationButton';\nimport { ProjectTab } from '../../pages/project';\n\nconst LEAVE_CONFIRMATION_MESSAGE = 'Are you sure you want to leave the project?';\n\nexport default class ProjectHeader extends React.Component {\n  constructor(props) {\n    super(props);\n  }\n\n  renderNav(project) {\n    const { onTabChange, tab } = this.props;\n\n    const isOwnProject = UserController.isLoggedIn()\n      && UserController.getToken().sub === project.ownerId;\n\n    if (!isOwnProject) {\n      return null;\n    }\n\n    return (\n      <>\n        <Nav fill variant=\"pills\" activeKey={tab}>\n          <Nav.Item onClick={() => onTabChange(ProjectTab.OVERVIEW)}>\n            <Nav.Link eventKey=\"overview\">Overview</Nav.Link>\n          </Nav.Item>\n          <Nav.Item onClick={() => onTabChange(ProjectTab.MANAGE)}>\n            <Nav.Link eventKey=\"manage\">Manage Members</Nav.Link>\n          </Nav.Item>\n        </Nav>\n        <hr />\n      </>\n    );\n  }\n\n  render() {\n    const {\n      tab,\n      project,\n      isEditable,\n      isEditValid,\n      onJoin,\n      onLeave,\n      onInvite,\n      onToggleEditable,\n      onSave,\n    } = this.props;\n\n    const isOwnProject = UserController.isLoggedIn()\n      && UserController.getToken().sub === project.owner.id;\n\n    const isMember = UserController.isLoggedIn()\n      && !isOwnProject\n      && project.members.nodes.some(\n        m => m.id === UserController.getToken().sub\n      );\n\n    return (\n      <Card.Header className=\"project-header\">\n        {this.renderNav(project)}\n        <h2><b>\n          {project.name}\n          {isOwnProject && tab === ProjectTab.OVERVIEW && (\n            <>\n              {isEditable &&\n                <>\n                  {isEditValid && <FaCheck title=\"Save Changes\" onClick={onSave} />}\n                  <FaTimes title=\"Revert Changes\" onClick={onToggleEditable} />\n                </>\n              }\n              {!isEditable &&\n                <FaEdit title=\"Edit Project\" onClick={onToggleEditable} />\n              }\n            </>\n          )}\n        </b></h2>\n\n        {isOwnProject && tab === ProjectTab.MANAGE && (\n          <Button onClick={onInvite} size=\"sm\" variant=\"dark\">Invite Member</Button>\n        )}\n\n        <JoinProjectButton project={project} onClick={onJoin} />\n        {isMember &&\n          <>\n            <ConfirmationButton\n              message={LEAVE_CONFIRMATION_MESSAGE}\n              variant=\"dark\"\n              size=\"sm\"\n              onConfirm={onLeave}\n            >\n              Leave Project\n        </ConfirmationButton>\n          </>\n        }\n      </Card.Header>\n    );\n  }\n}","import React from 'react';\nimport Select from 'react-select';\nimport Modal from 'react-bootstrap/Modal';\nimport Button from 'react-bootstrap/Button';\nimport '../../styles/modal.scss';\nimport UserController from '../../controllers/userController';\nimport ProfileController from '../../controllers/profileController';\n\nexport default class InviteToProjectModal extends React.Component {\n  constructor(props) {\n    super(props);\n\n    this.state = {\n      profileOptions: [],\n      selectedProfile: null\n    }\n\n    this.onChange = this.onChange.bind(this);\n  }\n\n  async componentDidMount() {\n    if (!UserController.isLoggedIn()) {\n      return;\n    }\n\n    const profiles = await ProfileController.getProfiles();\n    this.setState({\n      profileOptions: profiles.map(this.convertToOption)\n    });\n  }\n\n  convertToOption(profile) {\n    return { label: profile.username, value: profile.id };\n  }\n\n  onChange(selectedProfile) {\n    this.setState({ selectedProfile });\n  }\n\n  render() {\n    const { show, onClose, onConfirm } = this.props;\n    const { profileOptions, selectedProfile } = this.state;\n    const isConfirmDisabled = selectedProfile === null;\n\n    return (\n      <Modal show={show} animation={false} onHide={onClose}>\n        <Modal.Header closeButton>\n          <Modal.Title>Invite Member</Modal.Title>\n        </Modal.Header>\n\n        <Modal.Body>\n          Send an invitation to the following user:\n          <Select className=\"modal-select\"\n            variant=\"dark\"\n            options={profileOptions}\n            value={selectedProfile}\n            onChange={this.onChange}\n          />\n        </Modal.Body>\n\n        <Modal.Footer>\n          <Button variant=\"dark\" onClick={onClose}>Close</Button>\n          <Button\n            variant=\"dark\" \n            disabled={isConfirmDisabled}\n            onClick={() => onConfirm(selectedProfile.value)}\n          >\n            Confirm\n          </Button>\n        </Modal.Footer>\n      </Modal>\n    );\n  }\n}","import gql from 'graphql-tag';\nimport { client } from './graphqlClient';\n\n// Cache of skills and interests\nlet SKILLS = null;\nlet INTERESTS = null;\n\nconst GET_SKILLS_QUERY = gql`\n  query {\n    allTags(condition: {type: \"skill\"}) {\n      nodes {\n        name\n      }\n    }\n  }\n`;\n\nconst GET_INTERESTS_QUERY = gql`\n  query {\n    allTags(condition: {type: \"interest\"}) {\n      nodes {\n        name\n      }\n    }\n  }\n`;\n\nasync function getSkills() {\n  if (SKILLS) {\n    return SKILLS;\n  }\n\n  try {\n    const res = await client.query({\n      query: GET_SKILLS_QUERY\n    });\n    SKILLS = res.data.allTags.nodes.map(t => t.name);\n    return SKILLS;\n  } catch (error) {\n    throw error;\n  }\n}\n\nasync function getInterests() {\n  if (INTERESTS) {\n    return INTERESTS;\n  }\n\n  try {\n    const res = await client.query({\n      query: GET_INTERESTS_QUERY\n    });\n    INTERESTS = res.data.allTags.nodes.map(t => t.name);\n    return INTERESTS;\n  } catch (error) {\n    throw error;\n  }\n}\n\nexport default {\n  getSkills,\n  getInterests\n};","import React from 'react';\nimport Select from 'react-select';\nimport TagController from '../controllers/tagController';\n\nfunction formTheme(theme) {\n  return {\n    ...theme,\n    colors: {\n      ...theme.colors,\n      primary25: 'gray',\n      primary: '#64485C',\n      backgroundColor: 'transparent',\n    },\n  };\n}\n\nexport default class TagSelect extends React.Component {\n  constructor(props) {\n    super(props);\n\n    this.state = {\n      options: []\n    }\n  }\n\n  async componentDidMount() {\n    const { type } = this.props;\n\n    try {\n      const tags = type === 'interests'\n        ? await TagController.getInterests()\n        : await TagController.getSkills();\n\n      this.setState({\n        options: this.convertToOptions(tags)\n      });\n    } catch (error) {\n      console.log(error);\n    }\n  }\n\n  convertToOptions(items) {\n    if (!items) {\n      return [];\n    }\n\n    return items.map(item => ({\n      label: item,\n      value: item\n    }));\n  }\n\n  render() {\n    const { options } = this.state;\n    const { value, onChange } = this.props;\n\n    return (\n      <Select\n        theme={formTheme}\n        options={options}\n        value={this.convertToOptions(value)}\n        onChange={items =>\n          onChange(items ? items.map(i => i.value) : [])\n        }\n        isMulti\n      />\n    );\n  }\n}","import React from \"react\";\nimport { Form } from 'react-bootstrap';\nimport TagSelect from \"../TagSelect\";\nimport Select from 'react-select';\n\nconst NAME_MAX_LENGTH = 80;\n\nconst STATUS_OPTIONS =\n  ['Planning Phase', 'Design Phase', 'Development Phase', 'Testing Phase', 'Deployment Phase']\n    .map(status => ({ value: status, label: status }));\n\nexport default class EditableProject extends React.Component {\n  constructor(props) {\n    super(props);\n\n    this.onChange = this.onChange.bind(this);\n    this.convertToOption = this.convertToOption.bind(this);\n  }\n\n  onChange(field, value) {\n    this.props.onProjectFieldEdit(field, value);\n  }\n\n  convertToOption(item) {\n    return {\n      label: item,\n      value: item\n    };\n  }\n\n  render() {\n    const { project } = this.props;\n\n    return (\n      <Form>\n        <h4><span>📋</span> Name <small>(required)</small></h4>\n        <Form.Control\n          value={project.name}\n          placeholder=\"A short title\"\n          onChange={event => this.onChange('name', event.target.value)}\n          maxLength={NAME_MAX_LENGTH}\n        />\n        <hr />\n        <h4><span>ℹ️</span> Description</h4>\n        <Form.Control\n          as=\"textarea\"\n          rows=\"5\"\n          value={project.description || ''}\n          placeholder={'The project description is shown publicly to'\n                      + ' users who are interested in your project'\n                      + ' (Markdown is supported).'}\n          onChange={event => this.onChange('description', event.target.value)}\n        />\n        <hr />\n        <h4><span>💻</span> Directions</h4>\n        <Form.Control\n          as=\"textarea\"\n          rows=\"5\"\n          value={project.directions || ''}\n          placeholder={'Directions are shown only to project members,'\n                      + ' and should include information like Discord/Slack'\n                      + ' links, onboarding directions, etc (Markdown is supported).'}\n          onChange={event => this.onChange('directions', event.target.value)}\n        />\n        <hr />\n        <h4><span>🧰</span> Skills</h4>\n        <TagSelect\n          type=\"skills\"\n          value={project.languages}\n          onChange={languages => this.onChange('languages', languages)}\n        />\n        <hr />\n        <h4><span>🧪</span> Interest Areas</h4>\n        <TagSelect\n          type=\"interests\"\n          value={project.interests}\n          onChange={interests => this.onChange('interests', interests)}\n        />\n        <hr />\n        <h4><span>👩‍🔬</span> Joinable By Others?</h4>\n        <Form.Control\n          as=\"select\"\n          onChange={event => this.onChange('selfJoinable', event.target.value === 'true')}\n          value={project.selfJoinable}\n        >\n          <option value={true}>Yes! Anyone can join on their own.</option>\n          <option value={false}>No, people need to ask before joining.</option>\n        </Form.Control>\n        <hr />\n        <h4><span>⏰</span> Project Status</h4>\n        <Select\n          type=\"status\"\n          options={STATUS_OPTIONS}\n          value={this.convertToOption(project.status)}\n          onChange={status => this.onChange('status', status.value)}\n        />\n        <hr />\n        <h4><span>👀</span> Hidden from others?</h4>\n        <Form.Control\n          as=\"select\"\n          onChange={event => this.onChange('type', event.target.value)}\n          value={project.type}\n        >\n          <option value=\"public\">No! The project will be visible to all!</option>\n          <option value=\"private\">Yes, only team members can see the project.</option>\n        </Form.Control>\n      </Form>\n    );\n  }\n}\n","import React from 'react';\nimport Card from 'react-bootstrap/Card';\nimport Badge from 'react-bootstrap/Badge';\nimport ReactMarkdown from 'react-markdown';\nimport UserController from '../../controllers/userController';\nimport '../../styles/markdown.scss';\n\nconst DEFAULT_DESCRIPTION = 'This project currently has no description.';\nconst DEFAULT_DIRECTIONS = 'This project currently has no directions.';\n\nexport default function ReadOnlyProject({ project }) {\n  const membersCount = project.members.totalCount + 1;\n\n  const isMember = UserController.isLoggedIn()\n    && project.members.nodes.some(\n      m => m.id === UserController.getToken().sub\n    );\n  \n  const isOwner = UserController.isLoggedIn()\n    && project.ownerId === UserController.getToken().sub;\n\n  return (\n    <>\n      <h4><span>ℹ️</span> Description</h4>\n      <ReactMarkdown\n        className=\"markdown\"\n        source={project.description || DEFAULT_DESCRIPTION}\n      />\n      <hr />\n      {(isOwner || isMember) &&\n        <>\n          <h4><span>💻</span> Directions</h4>\n          <ReactMarkdown\n            className=\"markdown\"\n            source={project.directions || DEFAULT_DIRECTIONS}\n          />\n          <hr />\n        </>\n      }\n      <h4><span>👩‍👩‍👧‍👦</span> Members ({membersCount})</h4>\n      <div className=\"project-badges\">\n        <Badge pill variant=\"success\">\n          <a href={`/#/profile/${project.owner.username}`}>\n            {project.owner.username} (owner)\n            </a>\n        </Badge>\n        {project.members.nodes.map(member => (\n          <Badge pill key={member.username} variant=\"dark\">\n            <a href={`/#/profile/${member.username}`}>\n              {member.username}\n            </a>\n          </Badge>\n        ))}\n      </div>\n      <hr />\n      <h4><span>🧰</span> Skills</h4>\n      <div className=\"project-badges\">\n        {project.languages.map(lang => (\n          <Badge pill key={lang} variant=\"dark\">\n            {lang}\n          </Badge>\n        ))}\n      </div>\n      <hr />\n      <h4><span>🧪</span> Interest Areas</h4>\n      <div className=\"project-badges\">\n        {project.interests.map(interest => (\n          <Badge pill key={interest} variant=\"dark\">\n            {interest}\n          </Badge>\n        ))}\n      </div>\n      <hr />\n      <h4><span>⏰</span> Project Status</h4>\n      <Card.Text>\n        {project.status}\n      </Card.Text>\n    </>\n  );\n}","import React from 'react';\nimport EditableProject from './editableProject';\nimport ReadOnlyProject from './readOnlyProject';\n\nexport default class ProjectOverview extends React.Component {\n  constructor(props) {\n    super(props);\n  }\n\n  render() {\n    const {\n      project,\n      editableProject,\n      isEditable,\n      onProjectFieldEdit\n    } = this.props;\n\n    return (\n      <>\n        {isEditable\n          ? <EditableProject\n            onProjectFieldEdit={onProjectFieldEdit}\n            project={editableProject}\n          />\n          : <ReadOnlyProject project={project} />\n        }\n      </>\n    );\n  }\n}","\nimport React from 'react';\nimport RequestController from '../../controllers/requestController';\nimport ListGroup from 'react-bootstrap/ListGroup';\nimport ButtonGroup from 'react-bootstrap/ButtonGroup';\nimport Button from 'react-bootstrap/Button';\nimport ConfirmationButton from '../confirmationButton';\n\nconst KICK_CONFIRMATION_MESSAGE = 'Are you sure you want to kick this user from the project?';\n\nexport default class ManageProjectMembers extends React.Component {\n  constructor(props) {\n    super(props);\n\n    this.accept = this.accept.bind(this);\n    this.decline = this.decline.bind(this);\n  }\n\n  async accept(profileId, projectId) {\n    try {\n      await RequestController.accept(profileId, projectId);\n      window.location.reload();\n    } catch (error) {\n      console.log(error);\n    }\n  }\n\n  async decline(requestId) {\n    try {\n      await RequestController.decline(requestId);\n      window.location.reload();\n    } catch (error) {\n      console.log(error);\n    }\n  }\n\n  async kick(profileId, projectId) {\n    try {\n      await RequestController.leaveProject(profileId, projectId);\n      window.location.reload();\n    } catch (error) {\n      console.log(error);\n    }\n  }\n\n  renderMembers() {\n    const { project } = this.props;\n    const members = project.members.nodes;\n\n    if (members.length === 0) {\n      return (\n        <>\n          <h4>Members</h4>\n          <span className=\"message\">\n            The project does not have any members.\n          </span>\n          <br />\n        </>\n      );\n    }\n\n    return (\n      <>\n        <h4>Members</h4>\n        <ListGroup>\n          {members.map(p => (\n            <ListGroup.Item key={p.requestId} className=\"request-list-item\">\n              <a href={`/#/profile/${p.username}`}>{p.username}</a>\n              <ButtonGroup className=\"request-actions\">\n                <ConfirmationButton\n                  message={KICK_CONFIRMATION_MESSAGE}\n                  variant=\"danger\"\n                  size=\"sm\"\n                  onConfirm={() => this.kick(p.id, project.id)}\n                >\n                  Kick\n                </ConfirmationButton>\n              </ButtonGroup>\n            </ListGroup.Item>\n          ))}\n        </ListGroup>\n      </>\n    );\n  }\n\n  renderPendingMembers() {\n    const { project } = this.props;\n\n    if (project.selfJoinable) {\n      return null;\n    }\n\n    const pendingMembers = project.pendingMembers.nodes.filter(\n      p => p.requestStatus === 'pending' && p.requestType === 'request'\n    );\n\n    if (pendingMembers.length === 0) {\n      return (\n        <>\n          <hr />\n          <h4>Pending Members</h4>\n          <span className=\"message\">\n            Nobody is requesting to join the project.\n          </span>\n        </>\n      );\n    }\n\n    return (\n      <>\n        <hr />\n        <h4>Pending Members</h4>\n        <ListGroup>\n          {pendingMembers.map(p => (\n            <ListGroup.Item key={p.requestId} className=\"request-list-item\">\n              <a href={`/#/profile/${p.username}`}>{p.username}</a>\n              <ButtonGroup className=\"request-actions\" size=\"sm\">\n                <Button\n                  variant=\"success\"\n                  onClick={() => this.accept(p.id, project.id)}\n                >\n                  Accept\n                </Button>\n                <Button\n                  variant=\"danger\"\n                  onClick={() => this.decline(p.requestId)}\n                >\n                  Decline\n                </Button>\n              </ButtonGroup>\n            </ListGroup.Item>\n          ))}\n        </ListGroup>\n      </>\n    );\n  }\n\n  render() {\n    return (\n      <>\n        {this.renderMembers()}\n        {this.renderPendingMembers()}\n      </>\n    );\n  }\n}","import React, { Component } from \"react\";\nimport { withRouter } from 'react-router-dom';\nimport { withContext } from '../components/layout';\nimport { Card } from 'react-bootstrap';\nimport WebController from '../controllers/webController';\nimport ProjectController from \"../controllers/projectController\";\nimport RequestController from \"../controllers/requestController\";\nimport ProjectHeader from \"../components/project/projectHeader\"\nimport UserController from '../controllers/userController';\nimport Loading from '../components/loading';\nimport InviteMemberModal from '../components/modals/inviteMemberModal';\nimport ProjectOverview from '../components/project/projectOverview';\nimport ManageProjectMembers from '../components/project/manageProjectMembers';\nimport '../styles/project.scss';\n\nexport const ProjectTab = {\n  OVERVIEW: 'overview',\n  MANAGE: 'manage'\n};\n\nclass Project extends Component {\n  constructor(props) {\n    super(props);\n\n    this.state = {\n      tab: ProjectTab.OVERVIEW,\n      finishedLoading: false,\n      project: null,\n      editableProject: null,\n      isEditable: false,\n      showInviteModal: false\n    };\n\n    this.joinProject = this.joinProject.bind(this);\n    this.leaveProject = this.leaveProject.bind(this);\n    this.toggleEditable = this.toggleEditable.bind(this);\n    this.onProjectFieldEdit = this.onProjectFieldEdit.bind(this);\n    this.saveProject = this.saveProject.bind(this);\n    this.inviteMember = this.inviteMember.bind(this);\n    this.changeTab = this.changeTab.bind(this);\n  }\n\n  async componentDidMount() {\n    const { match: { params } } = this.props;\n    const id = Number(params.id);\n    \n    if (!id) {\n      this.setState({ finishedLoading: true });\n      return;\n    }\n\n    try {\n      const project = await ProjectController.getProject(id);\n      this.setState({\n        project,\n        editableProject: { ...project },\n        finishedLoading: true\n      });\n      this.setTabFromURL();\n    } catch (error) {\n      this.setState({ finishedLoading: true });\n      console.log(error);\n    }\n  }\n\n  componentDidUpdate() {\n    this.setTabFromURL();\n  }\n  \n  setTabFromURL() {\n    const { project, tab } = this.state;\n    const isOwnProject = UserController.isLoggedIn()\n      && UserController.getToken().sub === project.ownerId;\n\n    if (!isOwnProject && tab !== ProjectTab.OVERVIEW) {\n      this.changeTab(ProjectTab.OVERVIEW);\n    }\n\n    const params = WebController.getQueryParams();\n    const nextTab = params.get('tab') || ProjectTab.OVERVIEW;\n    \n    if (nextTab !== tab) {\n      this.changeTab(nextTab);\n    }\n  }\n\n  changeTab(tab) {\n    this.setState({ tab });\n\n    const params = WebController.getQueryParams();\n    params.set('tab', tab);\n    \n    WebController.updateQueryParams(params);\n  }\n\n  toggleEditable() {\n    this.setState(prevState => ({\n      isEditable: !prevState.isEditable\n    }));\n  }\n\n  onProjectFieldEdit(field, value) {\n    const { editableProject } = this.state;\n    editableProject[field] = value;\n    this.setState({ editableProject });\n  }\n\n  async saveProject() {\n    const { editableProject } = this.state;\n    try {\n      await ProjectController.updateProject(editableProject);\n      this.setState({\n        project: { ...editableProject }\n      });\n      this.toggleEditable();\n    } catch (error) {\n      console.log(error);\n    }\n  }\n\n  async inviteMember(profileId) {\n    const { project } = this.state;\n    const { showAlert } = this.props;\n    this.setState({ showInviteModal: false });\n\n    try {\n      await RequestController.inviteToProject(profileId, project.id);\n      showAlert(\n        'You have invited the user to your project.',\n        'success'\n      );\n    } catch (error) {\n      showAlert('You have already invited this user.', 'warning');\n    }\n  }\n\n  async joinProject() {\n    const { project } = this.state;\n    const profileId = UserController.getToken().sub;\n    try {\n      if (project.selfJoinable) {\n        await RequestController.joinProject(\n          profileId,\n          project.id,\n        );\n      } else {\n        await RequestController.requestToJoinProject(\n          profileId,\n          project.id,\n        );\n      }\n      window.location.reload();\n    } catch (error) {\n      console.log(error);\n    }\n  }\n\n  async leaveProject() {\n    const { project } = this.state;\n    const profileId = UserController.getToken().sub;\n\n    try {\n      await RequestController.leaveProject(\n        profileId,\n        project.id\n      );\n      this.props.history.push('/projects');\n    } catch (error) {\n      console.log(error);\n    }\n  }\n\n  render() {\n    const {\n      tab,\n      project,\n      finishedLoading,\n      isEditable,\n      editableProject,\n      showInviteModal\n    } = this.state;\n\n    if (!project) {\n      return (\n        <>\n          {finishedLoading\n            ? <h5>Project not found.</h5>\n            : <Loading />\n          }\n        </>\n      );\n    }\n\n    const isEditValid = editableProject && editableProject.name.trim() !== '';\n\n    return (\n      <>\n        <InviteMemberModal\n          show={showInviteModal}\n          onConfirm={this.inviteMember}\n          onClose={() => this.setState({ showInviteModal: false })}\n        />\n        <Card className=\"project-container\" bg=\"secondary\" border=\"secondary\">\n          <ProjectHeader\n            project={project}\n            isEditable={isEditable}\n            isEditValid={isEditValid}\n            tab={tab}\n            onInvite={() => this.setState({ showInviteModal: true })}\n            onJoin={this.joinProject}\n            onLeave={this.leaveProject}\n            onSave={this.saveProject}\n            onToggleEditable={this.toggleEditable}\n            onTabChange={this.changeTab}\n          />\n\n          <Card.Body>\n            {tab === ProjectTab.OVERVIEW &&\n            <ProjectOverview\n              project={project}\n              editableProject={editableProject}\n              isEditable={isEditable}\n              onProjectFieldEdit={this.onProjectFieldEdit}\n            />\n            }\n            {tab === ProjectTab.MANAGE && \n              <ManageProjectMembers project={project} />\n            }\n          </Card.Body>\n        </Card>\n      </>\n    );\n  }\n}\n\nexport default withContext(withRouter(Project), 'project-page');","import React from \"react\";\nimport '../../styles/profile.scss';\nimport { Card } from \"react-bootstrap\";\nimport Image from 'react-bootstrap/Image';\nimport Badge from 'react-bootstrap/Badge';\nimport '../../styles/searchCard.scss';\nimport DEFAULT_PROFILE from '../../images/default-profile.png';\n\nexport default function ProfileCard({ profile }) {\n  return (\n    <Card className=\"search-card\" bg=\"secondary\">\n      <a href={`/#/profile/${profile.username}`} style={{ color: 'inherit', textDecoration: 'inherit' }}>\n        <Card.Body>\n          <Card.Header className=\"card-header\">\n            <span>\n              <Image\n                src={profile.pictureUrl || DEFAULT_PROFILE}\n                roundedCircle\n              />\n              {profile.username}\n            </span>\n          </Card.Header>\n          <Card.Text>\n            {profile.bio}\n          </Card.Text>\n        </Card.Body>\n\n        <Card.Footer>\n          {profile.interests.length > 0 && (\n            <>\n              <b>Interests: </b>\n              {profile.interests.map(interest => (\n                <Badge pill key={interest} variant=\"dark\">\n                  {interest}\n                </Badge>\n              ))}\n              <br />\n            </>\n          )}\n          \n          {profile.languages.length > 0 && (\n            <>\n              <b>Skills: </b>\n              {profile.languages.map(language => (\n                <Badge pill key={language} variant=\"dark\">\n                  {language}\n                </Badge>\n              ))}\n            </>\n          )}\n        </Card.Footer>\n      </a>\n    </Card>\n  );\n}","import React, { Component } from 'react';\nimport { Helmet } from 'react-helmet';\nimport Layout from \"../components/layout\";\nimport { Container, Row, Col, FormControl } from \"react-bootstrap\";\nimport ProfileController from '../controllers/profileController';\nimport \"../styles/profile.scss\";\nimport ProfileCard from \"../components/profile/profileCard\";\nimport Loading from '../components/loading';\nimport '../styles/people.scss';\nimport { debounce } from 'throttle-debounce';\n\nconst DEBOUNCE_MS = 200;\n\nexport default class People extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      profiles: [],\n      search: '',\n      finishedLoading: false\n    };\n\n    this.retrieveProfiles = debounce(\n      DEBOUNCE_MS,\n      this.retrieveProfiles.bind(this)\n    );\n    this.updateSearch = this.updateSearch.bind(this);\n    this.renderHeader = this.renderHeader.bind(this);\n    this.renderProfiles = this.renderProfiles.bind(this);\n  }\n\n  async componentDidMount() {\n    this.retrieveProfiles();\n  }\n\n  async retrieveProfiles(search) {\n    this.setState({ finishedLoading: false });\n\n    try {\n      const profiles = search\n        ? await ProfileController.getFilteredProfiles(search)\n        : await ProfileController.getProfiles();\n\n      this.setState({ profiles });\n    } catch (error) {\n      console.log(error);\n    }\n\n    this.setState({ finishedLoading: true });\n  }\n\n  updateSearch(search) {\n    this.setState({ search });\n  }\n\n  renderHeader() {\n    const { search } = this.state;\n\n    return (\n      <>\n        <h1><span>👩‍🔬</span> People</h1>\n        <p>\n          Find team members for your next project!\n        </p>\n        <FormControl\n          type=\"text\"\n          size=\"lg\"\n          className=\"search\"\n          placeholder=\"Search by username, skills, etc...\"\n          value={search}\n          onChange={async (event) => {\n            const search = event.target.value;\n            this.updateSearch(search);\n            await this.retrieveProfiles(search);\n          }}\n        />\n      </>\n    );\n  }\n\n  renderProfiles() {\n    const { profiles, finishedLoading } = this.state;\n\n    if (!finishedLoading) {\n      return <Loading />\n    }\n\n    if (profiles.length === 0) {\n      return <h4>No profiles match the search.</h4>;\n    }\n\n    return (\n      <Row>\n        {profiles.map(p => {\n          return (\n            <Col md=\"4\" key={p.id}>\n              <ProfileCard profile={p} />\n            </Col>\n          )\n        })}\n      </Row>\n    );\n  }\n\n  render() {\n    return (\n      <>\n        <Helmet>\n          <title>People</title>\n        </Helmet>\n        <Layout className=\"people-page\">\n          <Container fluid>\n            {this.renderHeader()}\n            {this.renderProfiles()}\n          </Container>\n        </Layout>\n      </>\n    );\n  }\n}","import React from 'react';\nimport Image from 'react-bootstrap/Image';\nimport Nav from 'react-bootstrap/Nav';\nimport Card from 'react-bootstrap/Card';\nimport Row from 'react-bootstrap/Row';\nimport Col from 'react-bootstrap/Col';\nimport Button from 'react-bootstrap/Button';\nimport { FaUserEdit, FaCheck, FaTimes } from 'react-icons/fa';\nimport UserController from '../../controllers/userController';\nimport { ProfileTab } from '../../pages/profile';\nimport DEFAULT_PROFILE from '../../images/default-profile.png';\nimport '../../styles/profile.scss';\n\nexport default class ProfileHeader extends React.Component {\n  constructor(props) {\n    super(props);\n  }\n\n  renderNav(profile) {\n    const { onTabChange, tab } = this.props;\n\n    const isOwnProfile = UserController.isLoggedIn()\n      && UserController.getToken().username === profile.username;\n\n    return (\n      <>\n        <Nav fill variant=\"pills\" activeKey={tab}>\n          <Nav.Item onClick={() => onTabChange(ProfileTab.OVERVIEW)}>\n            <Nav.Link eventKey=\"overview\">Overview</Nav.Link>\n          </Nav.Item>\n          <Nav.Item onClick={() => onTabChange(ProfileTab.PROJECTS)}>\n            <Nav.Link eventKey=\"projects\">Projects</Nav.Link>\n          </Nav.Item>\n          {isOwnProfile && (\n            <Nav.Item onClick={() => onTabChange(ProfileTab.INBOX)}>\n              <Nav.Link eventKey=\"inbox\">Inbox</Nav.Link>\n            </Nav.Item>\n          )}\n        </Nav>\n        <hr />\n      </>\n    );\n  }\n\n  renderPicture(profile) {\n    return (\n      <Col lg={{ span: 3, offset: 3 }} xs={{ span: 6, offset: 3}}>\n        <Image\n          src={profile.pictureUrl || DEFAULT_PROFILE}\n          roundedCircle\n          fluid\n        />\n      </Col>\n    );\n  }\n\n  renderHeaderRight(profile) {\n    const {\n      isEditable,\n      onToggleEditable,\n      onInvite,\n      onSaveProfile,\n      tab\n    } = this.props;\n\n    const isOwnProfile = UserController.isLoggedIn()\n      && UserController.getToken().username === profile.username;\n    const showEditOptions = tab === ProfileTab.OVERVIEW && isOwnProfile;\n\n    return (\n      <>\n        <h2><b>\n          {profile.username}\n          {showEditOptions && isEditable && (\n            <>\n              <FaCheck title=\"Save Changes\" onClick={onSaveProfile} />\n              <FaTimes title=\"Revert Changes\" onClick={onToggleEditable} />\n            </>\n          )}\n          {showEditOptions && !isEditable && (\n            <FaUserEdit title=\"Edit Profile\" onClick={onToggleEditable} />\n          )}\n        </b></h2>\n        {UserController.isLoggedIn() && !isOwnProfile &&\n          <Button size=\"sm\" variant=\"dark\" onClick={onInvite}>\n            Invite to Project\n          </Button>\n        }\n      </>\n    );\n  }\n\n  render() {\n    const { profile } = this.props;\n\n    return (\n      <Card.Header className=\"profile-header\">\n        {this.renderNav(profile)}\n        <Row>\n          {this.renderPicture(profile)}\n          <Col className=\"profile-header-right\" xs={{ span: false }}>\n            {this.renderHeaderRight(profile)}\n          </Col>\n        </Row>\n      </Card.Header>\n    );\n  }\n}","import React from \"react\";\nimport { Form, } from 'react-bootstrap';\nimport TagSelect from '../TagSelect';\n\nexport default class EditableProfile extends React.Component {\n  constructor(props) {\n    super(props);\n    \n    this.onChange = this.onChange.bind(this);\n    this.convertToOptions = this.convertToOptions.bind(this);\n  }\n\n  onChange(field, value) {\n    this.props.onProfileFieldEdit(field, value);\n  }\n\n  convertToOptions(items) {\n    return items.map(item => ({\n      label: item,\n      value: item\n    }));\n  }\n\n  render() {\n    const { profile } = this.props;\n\n    return (\n      <Form>\n        <h4><span>👩‍🔬</span> Bio</h4>\n        <Form.Control\n          as=\"textarea\"\n          rows=\"3\"\n          value={profile.bio || ''}\n          onChange={event => this.onChange('bio', event.target.value)}\n        />\n        <hr />\n        <h4><span>🧪</span> Interests</h4>\n        <TagSelect\n          type=\"interests\"\n          value={profile.interests}\n          onChange={interests => this.onChange('interests', interests)}\n        />\n        <hr />\n        <h4><span>🧰</span> Skills</h4>\n        <TagSelect\n          type=\"skills\"\n          value={profile.languages}\n          onChange={languages => this.onChange('languages', languages)}\n        />\n      </Form>\n    );\n  }\n}","import React from 'react';\nimport Card from 'react-bootstrap/Card';\nimport Badge from 'react-bootstrap/Badge';\n\nconst DEFAULT_BIO = 'Apparently, this user prefers to keep an air of mystery about them.'\n\nexport default function ReadOnlyProfile({ profile }) {\n  return (\n    <>\n      <h4><span>👩‍🔬</span> Bio</h4>\n      <Card.Text>\n        {profile.bio || DEFAULT_BIO}\n      </Card.Text>\n\n      <hr />\n      <h4><span>🧪</span> Interests</h4>\n      <div className=\"profile-badges\">\n        {profile.interests.map(interest => (\n          <Badge pill key={interest} variant=\"dark\">\n            {interest}\n          </Badge>\n        ))}\n      </div>\n      <hr />\n      <h4><span>🧰</span> Skills</h4>\n      <div className=\"profile-badges\">\n        {profile.languages.map(language => (\n          <Badge pill key={language} variant=\"dark\">\n            {language}\n          </Badge>\n        ))}\n      </div>\n    </>\n  );\n}","import React from 'react';\nimport EditableProfile from './editableProfile';\nimport ReadOnlyProfile from './readOnlyProfile';\n\nexport default class ProfileOverview extends React.Component {\n  constructor(props) {\n    super(props);\n  }\n\n  render() {\n    const {\n      profile,\n      editableProfile,\n      isEditable,\n      onProfileFieldEdit\n    } = this.props;\n\n    return (\n      <>\n        {isEditable\n          ? <EditableProfile\n            onProfileFieldEdit={onProfileFieldEdit}\n            profile={editableProfile}\n          />\n          : <ReadOnlyProfile profile={profile} />\n        }\n      </>\n    );\n  }\n}","import React from 'react';\nimport Badge from 'react-bootstrap/Badge';\nimport UserController from '../../controllers/userController';\nimport '../../styles/profile.scss';\n\nexport default class ProfileProjects extends React.Component {\n  constructor(props) {\n    super(props);\n  }\n\n  getPersonalizedText(isOwnProfile) {\n    const { profile } = this.props;\n    if (isOwnProfile) {\n      return 'You have';\n    }\n    return `${profile.username} has`;\n  }\n\n  renderProjects(projects, actionText, isOwnProfile) {\n    return (\n      <>\n        {projects.length === 0 &&\n          <>\n            <span className=\"message\">\n              {this.getPersonalizedText(isOwnProfile)} not {actionText} any projects.\n          </span>\n            <br />\n          </>\n        }\n        <div className=\"profile-badges\">\n          {projects.map(p => (\n            <Badge pill key={p.id} variant=\"dark\">\n              <a href={`/#/project/${p.id}`}>{p.name}</a>\n            </Badge>\n          ))}\n        </div>\n      </>\n    );\n  }\n\n  render() {\n    const { profile } = this.props;\n    const ownedProjects = profile.ownedProjects.nodes;\n    const projects = profile.projects.nodes;\n\n    const isOwnProfile = UserController.isLoggedIn()\n      && UserController.getToken().username === profile.username;\n\n    return (\n      <div className=\"profile-projects\">\n        <h4>Owned Projects</h4>\n        {this.renderProjects(ownedProjects, 'created', isOwnProfile)}\n        <hr />\n        <h4>Joined Projects</h4>\n        {this.renderProjects(projects, 'joined', isOwnProfile)}\n      </div>\n    );\n  }\n}","import React from 'react';\nimport { withRouter } from 'react-router-dom';\nimport Badge from 'react-bootstrap/Badge';\nimport Button from 'react-bootstrap/Button';\nimport ButtonGroup from 'react-bootstrap/ButtonGroup';\nimport ListGroup from 'react-bootstrap/ListGroup';\nimport RequestController from '../../controllers/requestController';\nimport UserController from '../../controllers/userController';\nimport '../../styles/profile.scss';\n\nconst PROJECT_STATUS = {\n  'pending': { color: 'dark' },\n  'accepted': { color: 'success' },\n  'declined': { color: 'danger' }\n};\n\nclass ProfileInbox extends React.Component {\n  constructor(props) {\n    super(props);\n\n    this.accept = this.accept.bind(this);\n    this.decline = this.decline.bind(this);\n  }\n\n  async accept(projectId) {\n    const profileId = UserController.getToken().sub;\n    try {\n      await RequestController.accept(profileId, projectId);\n      this.props.history.push(`/project/${projectId}`);\n    } catch (error) {\n      console.log(error);\n    }\n  }\n\n  async decline(requestId) {\n    try {\n      await RequestController.decline(requestId);\n      window.location.reload();\n    } catch (error) {\n      console.log(error);\n    }\n  }\n\n  renderRequests(profile) {\n    const requestedProjects = profile.pendingProjects.nodes\n      .filter(p => p.requestType === 'request' && p.requestStatus === 'pending');\n\n    return (\n      <>\n        {requestedProjects.length === 0 &&\n          <>\n            <span className=\"message\">\n              You have not requested to join any projects.\n            </span>\n            <br />\n          </>\n        }\n        <div className=\"profile-badges\">\n          {requestedProjects.map(p => (\n            <Badge pill key={p.id} variant={PROJECT_STATUS[p.requestStatus].color}>\n              <a href={`/#/project/${p.id}`}>\n                {p.name}\n                &nbsp;({p.requestStatus})\n              </a>\n            </Badge>\n          ))}\n        </div>\n      </>\n    );\n  }\n\n  renderInvites(profile) {\n    const invitedProjects = profile.pendingProjects.nodes\n      .filter(p => p.requestType === 'invite' && p.requestStatus === 'pending');\n\n    return (\n      <>\n        {invitedProjects.length === 0 &&\n          <span className=\"message\">\n            You have not been invited to any projects.\n          </span>\n        }\n        <ListGroup>\n          {invitedProjects.map(p => (\n            <ListGroup.Item key={p.requestId} className=\"invite-list-item\">\n              <a href={`/#/project/${p.id}`}>{p.name}</a>\n              <ButtonGroup className=\"invite-actions\" size=\"sm\">\n                <Button\n                  variant=\"success\"\n                  onClick={() => this.accept(p.id)}\n                >\n                  Accept\n                </Button>\n                <Button\n                  variant=\"danger\"\n                  onClick={() => this.decline(p.requestId)}\n                >\n                  Decline\n                </Button>\n              </ButtonGroup>\n            </ListGroup.Item>\n          ))}\n        </ListGroup>\n      </>\n    );\n  }\n\n  render() {\n    const { profile } = this.props;\n\n    return (\n      <div className=\"profile-inbox\">\n        <h4>Requests</h4>\n        {this.renderRequests(profile)}\n        <hr />\n        <h4>Invites</h4>\n        {this.renderInvites(profile)}\n      </div>\n    );\n  }\n}\n\nexport default withRouter(ProfileInbox);","import React from 'react';\nimport Select from 'react-select';\nimport Modal from 'react-bootstrap/Modal';\nimport Button from 'react-bootstrap/Button';\nimport '../../styles/modal.scss';\nimport UserController from '../../controllers/userController';\nimport ProjectController from '../../controllers/projectController';\n\nexport default class InviteToProjectModal extends React.Component {\n  constructor(props) {\n    super(props);\n\n    this.state = {\n      projectOptions: [],\n      selectedProject: null\n    }\n\n    this.onChange = this.onChange.bind(this);\n  }\n\n  async componentDidMount() {\n    if (!UserController.isLoggedIn()) {\n      return;\n    }\n    \n    const profileId = UserController.getToken().sub;\n    const projects = await ProjectController.getOwnedProjects(profileId);\n    this.setState({\n      projectOptions: projects.map(this.convertToOption)\n    });\n  }\n\n  convertToOption(project) {\n    return { label: project.name, value: project.id };\n  }\n\n  onChange(selectedProject) {\n    this.setState({ selectedProject });\n  }\n\n  render() {\n    const { show, onClose, onConfirm } = this.props;\n    const { projectOptions, selectedProject } = this.state;\n    const isConfirmDisabled = selectedProject === null;\n\n    return (\n      <Modal show={show} animation={false} onHide={onClose}>\n        <Modal.Header closeButton>\n          <Modal.Title>Invite to Project</Modal.Title>\n        </Modal.Header>\n\n        <Modal.Body>\n          Send an invitation for the following project:\n          <Select className=\"modal-select\"\n            variant=\"dark\"\n            options={projectOptions}\n            value={selectedProject}\n            onChange={this.onChange}\n          />\n        </Modal.Body>\n\n        <Modal.Footer>\n          <Button variant=\"dark\" onClick={onClose}>Close</Button>\n          <Button\n            variant=\"dark\" \n            disabled={isConfirmDisabled}\n            onClick={() => onConfirm(selectedProject.value)}\n          >\n            Confirm\n          </Button>\n        </Modal.Footer>\n      </Modal>\n    );\n  }\n}","import React from 'react';\nimport { Helmet } from 'react-helmet';\nimport { withRouter } from 'react-router-dom';\nimport { withContext } from '../components/layout';\nimport Card from 'react-bootstrap/Card';\nimport ProfileController from '../controllers/profileController';\nimport ProfileHeader from '../components/profile/profileHeader';\nimport ProfileOverview from '../components/profile/profileOverview';\nimport ProfileProjects from '../components/profile/profileProjects';\nimport ProfileInbox from '../components/profile/profileInbox';\nimport Loading from '../components/loading';\nimport InviteToProjectModal from '../components/modals/inviteToProjectModal';\nimport ProjectController from '../controllers/projectController';\nimport WebController from '../controllers/webController';\nimport '../styles/profile.scss';\n\nexport const ProfileTab = {\n  OVERVIEW: 'overview',\n  PROJECTS: 'projects',\n  INBOX: 'inbox'\n};\n\nclass Profile extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      profile: null,\n      editableProfile: null,\n      isEditable: false,\n      tab: ProfileTab.OVERVIEW,\n      finishedLoading: false,\n      showInviteModal: false\n    };\n\n    this.toggleEditable = this.toggleEditable.bind(this);\n    this.onProfileFieldEdit = this.onProfileFieldEdit.bind(this);\n    this.saveProfile = this.saveProfile.bind(this);\n    this.inviteToProject = this.inviteToProject.bind(this);\n    this.changeTab = this.changeTab.bind(this);\n  }\n\n  async componentDidMount() {    \n    const { match: { params } } = this.props;\n    const username = params.username;\n\n    if (!username) {\n      this.setState({ finishedLoading: true });\n      return;\n    }\n\n    try {\n      const profile = await ProfileController.getProfile(username);\n      this.setState({\n        profile,\n        editableProfile: { ...profile },\n        finishedLoading: true\n      });\n    } catch (error) {\n      this.setState({ finishedLoading: true });\n      console.log(error);\n    }\n  }\n\n  componentDidUpdate() {\n    this.setTabFromURL();\n  }\n\n  setTabFromURL() {\n    const { tab } = this.state;\n    const params = WebController.getQueryParams();\n    const nextTab = params.get('tab') || ProfileTab.OVERVIEW;\n\n    if (nextTab !== tab) {\n      this.changeTab(nextTab);\n    }\n  }\n\n  changeTab(tab) {\n    this.setState({ tab });\n\n    const params = WebController.getQueryParams();\n    params.set('tab', tab);\n    \n    WebController.updateQueryParams(params);\n  }\n\n  toggleEditable() {\n    this.setState(prevState => ({\n      isEditable: !prevState.isEditable\n    }));\n  }\n\n  onProfileFieldEdit(field, value) {\n    const { editableProfile } = this.state;\n    editableProfile[field] = value;\n    this.setState({ editableProfile });\n  }\n\n  async saveProfile() {\n    const { editableProfile } = this.state;\n    try {\n      await ProfileController.updateProfile(editableProfile);\n      this.setState({\n        profile: { ...editableProfile }\n      });\n      this.toggleEditable();\n    } catch (error) {\n      console.log(error);\n    }\n  }\n\n  async inviteToProject(projectId) {\n    const { profile } = this.state;\n    const { showAlert } = this.props;\n    this.setState({ showInviteModal: false });\n\n    try {\n      await ProjectController.createInvite(profile.id, projectId);\n      showAlert(\n        'You have invited this user to your project.',\n        'success'\n      );\n    } catch (error) {\n      showAlert('You have already invited this user.', 'warning');\n    }\n  }\n\n  render() {\n    const {\n      profile,\n      editableProfile,\n      tab,\n      isEditable,\n      finishedLoading,\n      showInviteModal\n    } = this.state;\n\n    if (!profile) {\n      return (\n        <>\n          <Helmet>\n            <title>Profile</title>\n          </Helmet>\n          {finishedLoading\n            ? <h5>Profile not found.</h5>\n            : <Loading />\n          }\n        </>\n      );\n    }\n\n    return (\n      <>\n        <Helmet>\n          <title>{profile.username}</title>\n        </Helmet>\n        <InviteToProjectModal\n          show={showInviteModal}\n          onConfirm={this.inviteToProject}\n          onClose={() => this.setState({ showInviteModal: false })}\n        />\n        <Card className=\"profile-container\" bg=\"secondary\" border=\"secondary\">\n          <ProfileHeader\n            profile={profile}\n            tab={tab}\n            isEditable={isEditable}\n            onSaveProfile={this.saveProfile}\n            onToggleEditable={this.toggleEditable}\n            onInvite={() => this.setState({ showInviteModal: true })}\n            onTabChange={this.changeTab}\n          />\n          <Card.Body>\n            {tab === ProfileTab.OVERVIEW &&\n              <ProfileOverview\n                profile={profile}\n                editableProfile={editableProfile}\n                isEditable={isEditable}\n                onProfileFieldEdit={this.onProfileFieldEdit}\n              />\n            }\n            {tab === ProfileTab.PROJECTS &&\n              <ProfileProjects profile={profile} />\n            }\n            {tab === ProfileTab.INBOX &&\n              <ProfileInbox profile={profile} />\n            }\n          </Card.Body>\n        </Card>\n      </>\n    );\n  }\n}\n\nexport default withRouter(withContext(Profile, 'profile-page'));","import React from 'react';\nimport { Helmet } from 'react-helmet';\nimport { withRouter } from 'react-router-dom';\nimport Layout from '../../components/layout';\nimport { Card, Button, Row, Col } from 'react-bootstrap';\nimport EditableProject from '../../components/project/editableProject';\nimport UserController from '../../controllers/userController';\nimport ProjectController from '../../controllers/projectController';\nimport '../../styles/project.scss';\nimport '../../styles/createProject.scss';\n\nclass CreateProject extends React.Component {\n  constructor(props) {\n    super(props);\n\n    this.state = {\n      project: {\n        ownerId: null,\n        name: '',\n        description: '',\n        directions: '',\n        languages: [],\n        interests: [],\n        selfJoinable: true,\n        status: 'Planning Phase',\n        type: 'public'\n      }\n    }\n\n    this.onProjectFieldEdit = this.onProjectFieldEdit.bind(this);\n    this.createProject = this.createProject.bind(this);\n  }\n\n  async componentDidMount() {\n    if (!UserController.isLoggedIn()) {\n      this.props.history.push('/');\n    } else {\n      const id = UserController.getToken().sub;\n      const { project } = this.state;\n      project.ownerId = id;\n      this.setState({ project });\n    }\n  }\n\n  onProjectFieldEdit(field, value) {\n    const { project } = this.state;\n    project[field] = value;\n    this.setState({ project });\n  }\n\n  async createProject() {\n    const { project } = this.state;\n    try {\n      const projectId = await ProjectController.createProject(project);\n      this.props.history.push(`/#/project/${projectId}`);\n    } catch (error) {\n      console.log(error);\n    }\n  }\n\n  render() {\n    const { project } = this.state;\n    const isCreateDisabled = project.name.trim() === '';\n\n    return (\n      <Layout className={\"project-page create-project-page\"}>\n        <Helmet>\n          <title>Create a Project</title>\n        </Helmet>\n        <Row>\n          <Col>\n            <Card className=\"project-container\" bg=\"secondary\" border=\"secondary\">\n              <Card.Header>\n                <br />\n                <h2><span>💡</span> Create a Project</h2>\n              </Card.Header>\n              <Card.Body>\n                <EditableProject\n                  project={project}\n                  onProjectFieldEdit={this.onProjectFieldEdit}\n                />\n                <hr />\n                <Button\n                  variant=\"dark\"\n                  size=\"lg\"\n                  onClick={this.createProject}\n                  block\n                  disabled={isCreateDisabled}\n                >\n                  Create\n                </Button>\n              </Card.Body>\n            </Card>\n          </Col>\n        </Row>\n      </Layout>\n    );\n  }\n}\n\nexport default withRouter(CreateProject);","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport {\n  HashRouter,\n  Switch,\n  Route\n} from 'react-router-dom';\nimport 'bootstrap/dist/css/bootstrap.min.css';\n\nimport Home from './pages/home';\nimport Projects from './pages/projects';\nimport Project from './pages/project';\nimport People from './pages/people';\nimport Profile from './pages/profile';\nimport CreateProject from './pages/projects/create';\n\nfunction App() {\n  return (\n    <HashRouter>\n      <Switch>\n        <Route path='/profile/:username'><Profile /></Route>\n        <Route path='/projects/create'><CreateProject /></Route>\n        <Route path='/projects'><Projects /></Route>\n        <Route path='/people'><People /></Route>\n        <Route path='/project/:id'><Project /></Route>\n        <Route exact path='/'><Home /></Route>\n      </Switch>\n    </HashRouter>\n  );\n}\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);","module.exports = __webpack_public_path__ + \"static/media/default-profile.f540a12d.png\";"],"sourceRoot":""}